<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>ReFactor-30mar23-TOIp-TOId</title>
  </head>
  <body>
    <h1>TOI7&nbsp;&nbsp; TOIp&nbsp; TOId&nbsp; Logic ReFactor</h1>
    &nbsp;&nbsp;&nbsp; <br>
    <br>
    Each word of input Tin is tested for pattern<br>
    &nbsp;&nbsp;&nbsp; and assigned a vnty&nbsp; type, a fixed list
    which is also the second/piece in the TFL TOIa Syntax<br>
    <br>
    Types include<br>
    &nbsp;&nbsp;&nbsp; pfx and sfx selected punct in TFL list&nbsp; vnty
    px, sx and implies vn as well<br>
    &nbsp;&nbsp;&nbsp; date(s)&nbsp; d8&nbsp; or d12 is the vnty&nbsp; -
    may come from several words together<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; TOId manages this<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Date VL includes day, mn, yr,
    week, hr min&nbsp; and wkn, Day of Week ('Mon')<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Local vars set by various date-type words and after TOId scan of all
    unused words,<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp; are composed to one d12 or d8.<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Note two
    d8s for KAC means 2/5&nbsp; and 2/6 each generate as vnty of d8<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp; and are assigned to vn's sequentially if there
    are two in the line as with CapOne<br>
    <br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; d12 results
    from a time being given&nbsp; ? or expected d12 by TFL&nbsp; /d12<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Tricky !<br>
    <br>
    dQ is null til a word is identified, then it signals that wki is
    done<br>
    <br>
    Wpnd(wki) is new, the opposite of Wu- It is set =1 initially and
    killed when used.<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Thus loop does $O&nbsp; until
    none left<br>
    <br>
    Unused words may be put into something like de<br>
    At the end, words identified by vnty are matched with vn's and set.<br>
    SV^TOIp is this process<br>
    <br>
    <br>
    ReFactor Phase One- Reduce unneeded nested Dos <br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Each pattern should be tested
    and pass or fail&nbsp; - dQ is the flag<br>
    <br>
    Phase One<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; assigns words, wki to
    vnty&nbsp; - not yet vn, except fo pfx &amp; sfx which does get vn<br>
    <br>
    Phase Two&nbsp; - SV&nbsp; decides vn in order and by type<br>
    <br>
    <br>
  </body>
</html>
