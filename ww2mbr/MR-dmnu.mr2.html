<!DOCTYPE html>
<html lang='en'>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>
^dmnu
</title>
<style> 
.hd  {font-size: 2em;}
body  {font-size:100%;}
.cdline  {font-family: "Courier New", monospace;   font-size: 1em;}
.cdline  {display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; }
.cdrinum  {flex: 1;}
.cdlabel  {flex: 5;}
.cdmcmd  {flex: 94;}
.cdline  {white-space:pre-wrap; }
.cdmcmd  {text-indent:5px white-space:pre-wrap;}
.cdline  {background-color:gray}
.cdrinum  {background-color:gold; width:100px ; margin-right:5px}
.cdlabel  {background-color:lightblue}
.cdmcmd  {background-color:lightpink}
a  {margin:5px 0px 5px 0px;}
.brcln  {display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; }
a  {flex: 1;}
.blink  {flex: 1;}
.brcln  {white-space:pre-wrap; flex-wrap: wrap;}
.brcln  {font-size: 1.4em; font-family: "Courier New", monospace; }
.blink  {margin-left: 10px;margin-right: 10px;text-decoration: none;}
.blink  {padding-left: 5px; padding-right: 20px;border: black solid 1px;}
.blink  {background-color: lightpink;}
.cursor  {background-color:lightyellow;}
</style>
</head>
<body>
<div  class=hd >MRoutine Page ^dmnu</div><a href=aa-TOC-All.zz2.html >TOC</a><div  class=brcln ><a href=aa-TOC-All.zz2.html >TOC</a><div  class=blink ><a href=RD-rmenu3.rd2.html >rmenu3/</a></div><div  class=blink ><a href=MR-dmnu.mr2.html >^dmnu</a></div><div  class=blink ><a href=./ >ww2m/*</a></div><div  class=blink ><a href=CB-dmnu.cb2.html >^dmnu</a></div><div  class=blink ><a href=CB-dmnu-RE.cb2.html >RE</a></div><div  class=blink ><a href=CB-dmnu-mab.cb2.html >mab</a></div><div  class=blink ><a href=CB-dmnu-PRMPT.cb2.html >PRMPT</a></div><div  class=blink ><a href=CB-dmnu-RX.cb2.html >RX</a></div><div  class=blink ><a href=CB-dmnu-OPn.cb2.html >OPn</a></div><div  class=blink ><a href=CB-dmnu-AB.cb2.html >AB</a></div><div  class=blink ><a href=CB-dmnu-newmSys.cb2.html >newmSys</a></div><div  class=blink ><a href=CB-dmnu-Q.cb2.html >Q</a></div><div  class=blink ><a href=CB-dmnu-RNM.cb2.html >RNM</a></div><div  class=blink ><a href=CB-dmnu-WAIT.cb2.html >WAIT</a></div><div  class=blink ><a href=CB-dmnu-RUN.cb2.html >RUN</a></div><div  class=blink ><a href=CB-dmnu-LISTall.cb2.html >LISTall</a></div><div  class=blink ><a href=CB-dmnu-LIS.cb2.html >LIS</a></div><div  class=blink ><a href=CB-dmnu-LISmSys.cb2.html >LISmSys</a></div><div  class=blink ><a href=CB-dmnu-SrchX.cb2.html >SrchX</a></div><div  class=blink ><a href=CB-dmnu-L1.cb2.html >L1</a></div><div  class=blink ><a href=CB-dmnu-L2.cb2.html >L2</a></div><div  class=blink ><a href=CB-dmnu-Wmab.cb2.html >Wmab</a></div><div  class=blink ><a href=CB-dmnu-Wop.cb2.html >Wop</a></div><div  class=blink ><a href=CB-dmnu-Gmab.cb2.html >Gmab</a></div><div  class=blink ><a href=CB-dmnu-Gop.cb2.html >Gop</a></div><div  class=blink ><a href=CB-dmnu-AUop.cb2.html >AUop</a></div><div  class=blink ><a href=CB-dmnu-QA.cb2.html >QA</a></div></div><div  class=mcode ><div  class=cdline ><div  class=cdrinum >..1c</div><div  class=cdmcmd >dmnu(mSysArg,mSysMRou,mpreVL,mpreLR) ;CKW/ESC   i14may16 gmsa/ rmenu3/ ; 20210720-98 ; <a href=CB-epaMenu-Menu.cb2.html >Menu</a> Utility run mSys=^MNU(0,"mSysCur")</div></div><div  class=cdline ><div  class=cdrinum >..2c</div><div  class=cdmcmd >;*$$Q rev add args/opt 20jul21</div></div><div  class=cdline ><div  class=cdrinum >..3c</div><div  class=cdmcmd >  ;  No locals, opt args  vs ^MNU(0,"mSysCur") etc.</div></div><div  class=cdline ><div  class=cdrinum >..4c</div><div  class=cdmcmd >  ;  See ^dmnCom(mSys) of RM() after ^dmnRT read from $T of @mnuMRou to RM(), compile <a href=CB-epaMenu-Menu.cb2.html >Menu</a> to ^MNU(mSys)</div></div><div  class=cdline ><div  class=cdrinum >..5c</div><div  class=cdmcmd >  ;</div></div><div  class=cdline ><div  class=cdrinum >..6c</div><div  class=cdmcmd ><a href=CB-dmnu-RE.cb2.html >RE</a>  NEW Q S Q=""</div></div><div  class=cdline ><div  class=cdrinum >..7c</div><div  class=cdmcmd >    I $<a href=CB-dzZlog-zro.cb2.html >zro</a>'["mgbFL",$<a href=CB-dzZlog-zro.cb2.html >zro</a>'["rd2mg" S <a href=CB-dzZlog-zro.cb2.html >zro</a>=$<a href=CB-dzZlog-zro.cb2.html >zro</a> D b^dv("Depends on ^dgmg in rmgbFL* or rd2mg","zro")</div></div><div  class=cdline ><div  class=cdrinum >..8c</div><div  class=cdmcmd >    S mpreVL=$G(mpreVL),mpreLR=$G(mpreLR)    </div></div><div  class=cdline ><div  class=cdrinum >..9c</div><div  class=cdmcmd >    I $G(mSysArg)'="" S mSys=mSysArg,^MNU(0,"mSysCur")=mSys</div></div><div  class=cdline ><div  class=cdrinum >.10c</div><div  class=cdmcmd >    E  S mSys=$G(^MNU(0,"mSysCur")) I mSys="" DO  Q</div></div><div  class=cdline ><div  class=cdrinum >.11c</div><div  class=cdmcmd >      .D ^dvstk S Q="Had no mSys ? for <a href=CB-epaMenu-Menu.cb2.html >Menu</a> ^MNU(0,'mSysCur')"</div></div><div  class=cdline ><div  class=cdrinum >.12c</div><div  class=cdmcmd >      .D b^dv(Q,"mSys")</div></div><div  class=cdline ><div  class=cdrinum >.13c</div><div  class=cdmcmd >    I $G(mSysMRou)'="" DO  ;</div></div><div  class=cdline ><div  class=cdrinum >.14c</div><div  class=cdmcmd >      .D ^dmnRT(mSys,mSysMRou) ; Read $T <a href=CB-dzZlog-menu.cb2.html >menu</a> source to RM()</div></div><div  class=cdline ><div  class=cdrinum >.15c</div><div  class=cdmcmd >      .I $D(RM)&lt;9 D b^dv("Failed to fine <a href=CB-epaMenu-Menu.cb2.html >Menu</a> source","mSys,mnuMRou,mpreLR") </div></div><div  class=cdline ><div  class=cdrinum >.16c</div><div  class=cdmcmd >      .D ^dmnCom(mSys,mpreVL,mpreLR)  ; compile RM() to ^MNU(mSys,</div></div><div  class=cdline ><div  class=cdrinum >.17c</div><div  class=cdmcmd >    I mpreVL'="" DO  ;</div></div><div  class=cdline ><div  class=cdrinum >.18c</div><div  class=cdmcmd >      .S mpreLR="VL^dmnDIS"</div></div><div  class=cdline ><div  class=cdrinum >.19c</div><div  class=cdmcmd >      .S ^MNU(mSys,0,"mpreLR")=mpreLR</div></div><div  class=cdline ><div  class=cdrinum >.20c</div><div  class=cdmcmd >      .S ^MNU(mSys,0,"mpreVL")=mpreVL                                                      </div></div><div  class=cdline ><div  class=cdrinum >.21c</div><div  class=cdmcmd >    KILL MU  MERGE MU=^MNU(mSys) ; See @mabFL _^MNU(mSys,0)</div></div><div  class=cdline ><div  class=cdrinum >.22c</div><div  class=cdmcmd >    D ^dmnIMG  ; msys0FL, mabFL, opFL</div></div><div  class=cdline ><div  class=cdrinum >.23c</div><div  class=cdmcmd >    D T^dws("msys0FL:mmo,curmab,<a href=CB-dmnCom-mnL.cb2.html >mnL</a>,mpreLR,<a href=CB-dzZlog-zro.cb2.html >zro</a>_^MNU(mSys,0)")</div></div><div  class=cdline ><div  class=cdrinum >.24c</div><div  class=cdmcmd >    D GFL^dgmg(msys0FL)</div></div><div  class=cdline ><div  class=cdrinum >.25c</div><div  class=cdmcmd >    I curmab'="" S <a href=CB-dmnu-mab.cb2.html >mab</a>=curmab</div></div><div  class=cdline ><div  class=cdrinum >.26c</div><div  class=cdmcmd >    I <a href=CB-dmnu-mab.cb2.html >mab</a>="" S <a href=CB-dmnu-mab.cb2.html >mab</a>="mm"  ;default</div></div><div  class=cdline ><div  class=cdrinum >.27c</div><div  class=cdmcmd >    I mmo="" S mmo="mm"  ;default</div></div><div  class=cdline ><div  class=cdrinum >.28c</div><div  class=cdmcmd >  ;  <a href=CB-dmnu-mab.cb2.html >mab</a>  Current Set</div></div><div  class=cdline ><div  class=cdrinum >.29c</div><div  class=cdmcmd ><a href=CB-dmnu-mab.cb2.html >mab</a>    S <a href=CB-dmnu-mab.cb2.html >mab</a>=$G(<a href=CB-dmnu-mab.cb2.html >mab</a>) S:<a href=CB-dmnu-mab.cb2.html >mab</a>="" <a href=CB-dmnu-mab.cb2.html >mab</a>="mm",mmo=""</div></div><div  class=cdline ><div  class=cdrinum >.30c</div><div  class=cdmcmd >         I '$D(MU(<a href=CB-dmnu-mab.cb2.html >mab</a>)) S <a href=CB-dmnu-mab.cb2.html >mab</a>="mm"</div></div><div  class=cdline ><div  class=cdrinum >.31c</div><div  class=cdmcmd >       D <a href=CB-dmnu-Gmab.cb2.html >Gmab</a> I dPRP="" S dPRP="Select Option- "</div></div><div  class=cdline ><div  class=cdrinum >.32c</div><div  class=cdmcmd >       ; fall thru   <a href=CB-dmnu-mab.cb2.html >mab</a>, mmo, dPRP, MU()</div></div><div  class=cdline ><div  class=cdrinum >.33c</div><div  class=cdmcmd ><a href=CB-dmnu-PRMPT.cb2.html >PRMPT</a>  I $G(<a href=CB-dmnu-mab.cb2.html >mab</a>)="" D b^dv("Lost <a href=CB-dmnu-mab.cb2.html >mab</a> ","mab,mmo,mSys") G <a href=CB-dmnu-RE.cb2.html >RE</a></div></div><div  class=cdline ><div  class=cdrinum >.34c</div><div  class=cdmcmd >       I '$D(mmo)!'$D(dPRP) G <a href=CB-dmnu-RE.cb2.html >RE</a></div></div><div  class=cdline ><div  class=cdrinum >.35c</div><div  class=cdmcmd >       U $P W:$X !</div></div><div  class=cdline ><div  class=cdrinum >.36c</div><div  class=cdmcmd >       I $G(mmo)["#" D <a href=CB-dmnu-LIS.cb2.html >LIS</a></div></div><div  class=cdline ><div  class=cdrinum >.37c</div><div  class=cdmcmd >       W <a href=CB-dmnu-mab.cb2.html >mab</a>,".  " I $G(<a href=CB-TOId2-dpr.cb2.html >dPR</a>)'="" W dPRP I dPRP'[":" W ": "</div></div><div  class=cdline ><div  class=cdrinum >.38c</div><div  class=cdmcmd >       R X</div></div><div  class=cdline ><div  class=cdrinum >.39c</div><div  class=cdmcmd ><a href=CB-dmnu-RX.cb2.html >RX</a>     I X="."  G Q:<a href=CB-dmnu-mab.cb2.html >mab</a>="mm" S X=""  ;exit mm, else go to mm</div></div><div  class=cdline ><div  class=cdrinum >.40c</div><div  class=cdmcmd >       I X="h" HALT  ; debug quick out</div></div><div  class=cdline ><div  class=cdrinum >.41c</div><div  class=cdmcmd >       I X="" S <a href=CB-dmnu-mab.cb2.html >mab</a>="mm" G <a href=CB-dmnu-mab.cb2.html >mab</a></div></div><div  class=cdline ><div  class=cdrinum >.42c</div><div  class=cdmcmd >       I X="??" G <a href=CB-dmnu-LISTall.cb2.html >LISTall</a></div></div><div  class=cdline ><div  class=cdrinum >.43c</div><div  class=cdmcmd >       I X="&gt;?" G <a href=CB-dmnu-LISmSys.cb2.html >LISmSys</a></div></div><div  class=cdline ><div  class=cdrinum >.44c</div><div  class=cdmcmd >       I X["?",$P(X,"?")'="" G <a href=CB-dmnu-SrchX.cb2.html >SrchX</a></div></div><div  class=cdline ><div  class=cdrinum >.45c</div><div  class=cdmcmd >       I X="/" W # G <a href=CB-dmnu-PRMPT.cb2.html >PRMPT</a></div></div><div  class=cdline ><div  class=cdrinum >.46c</div><div  class=cdmcmd >       I X?1.2n  G <a href=CB-dmnu-OPn.cb2.html >OPn</a></div></div><div  class=cdline ><div  class=cdrinum >.47c</div><div  class=cdmcmd >       I X["." G <a href=CB-dmnu-AB.cb2.html >AB</a></div></div><div  class=cdline ><div  class=cdrinum >.48c</div><div  class=cdmcmd >       I X'="",$D(^MNU(X))=11 S mSys=X Goto <a href=CB-dmnu-newmSys.cb2.html >newmSys</a>  ; Type Full mSys</div></div><div  class=cdline ><div  class=cdrinum >.49c</div><div  class=cdmcmd >       W !," ? I dont understand. '",X,"' ?",!</div></div><div  class=cdline ><div  class=cdrinum >.50c</div><div  class=cdmcmd >       G <a href=CB-dmnu-WAIT.cb2.html >WAIT</a></div></div><div  class=cdline ><div  class=cdrinum >.51c</div><div  class=cdmcmd >;*  Numeric option entry</div></div><div  class=cdline ><div  class=cdrinum >.52c</div><div  class=cdmcmd ><a href=CB-dmnu-OPn.cb2.html >OPn</a>    S moi=+X</div></div><div  class=cdline ><div  class=cdrinum >.53c</div><div  class=cdmcmd >       S dopLR=$G(MU(<a href=CB-dmnu-mab.cb2.html >mab</a>,moi,"dopLR"))</div></div><div  class=cdline ><div  class=cdrinum >.54c</div><div  class=cdmcmd >         I dopLR'="" Goto <a href=CB-dmnu-RUN.cb2.html >RUN</a>       </div></div><div  class=cdline ><div  class=cdrinum >.55c</div><div  class=cdmcmd >       S dopMnu=$G(MU(<a href=CB-dmnu-mab.cb2.html >mab</a>,moi,"dopMnu"))   ; $ man <a href=CB-dzZlog-menu.cb2.html >menu</a> or whole new mSys</div></div><div  class=cdline ><div  class=cdrinum >.56c</div><div  class=cdmcmd >       I dopMnu'="",$D(^MNU(dopMnu)) S mSys=dopMnu Goto <a href=CB-dmnu-newmSys.cb2.html >newmSys</a></div></div><div  class=cdline ><div  class=cdrinum >.57c</div><div  class=cdmcmd >       I dopMnu'="" Goto <a href=CB-dmnu-RNM.cb2.html >RNM</a></div></div><div  class=cdline ><div  class=cdrinum >.58c</div><div  class=cdmcmd >       W !,"? not found.",!</div></div><div  class=cdline ><div  class=cdrinum >.59c</div><div  class=cdmcmd >       G <a href=CB-dmnu-WAIT.cb2.html >WAIT</a></div></div><div  class=cdline ><div  class=cdrinum >.60c</div><div  class=cdmcmd >;*  Index abbr either op or <a href=CB-dzZlog-menu.cb2.html >menu</a></div></div><div  class=cdline ><div  class=cdrinum >.61c</div><div  class=cdmcmd >;    : <a href=CB-dmnu-mab.cb2.html >mab</a>, moi, dopLR ?</div></div><div  class=cdline ><div  class=cdrinum >.62c</div><div  class=cdmcmd ><a href=CB-dmnu-AB.cb2.html >AB</a>     S ab=$P(X,"."),abo=$G(MU(-1,"ab",ab))</div></div><div  class=cdline ><div  class=cdrinum >.63c</div><div  class=cdmcmd >       S dopLR="" I abo="" D ^dv("? Cant find ab:","ab,abo") Goto <a href=CB-dmnu-WAIT.cb2.html >WAIT</a></div></div><div  class=cdline ><div  class=cdrinum >.64c</div><div  class=cdmcmd >       I $D(MU(abo)) S <a href=CB-dmnu-mab.cb2.html >mab</a>=ab  Goto <a href=CB-dmnu-PRMPT.cb2.html >PRMPT</a>   ;new <a href=CB-dzZlog-menu.cb2.html >menu</a></div></div><div  class=cdline ><div  class=cdrinum >.65c</div><div  class=cdmcmd >       S <a href=CB-dmnu-mab.cb2.html >mab</a>=$P(abo,"."),moi=$P(abo,".",2)</div></div><div  class=cdline ><div  class=cdrinum >.66c</div><div  class=cdmcmd >       D <a href=CB-dmnu-Gop.cb2.html >Gop</a>  ; : dopLR, ...</div></div><div  class=cdline ><div  class=cdrinum >.67c</div><div  class=cdmcmd >       Goto <a href=CB-dmnu-RUN.cb2.html >RUN</a></div></div><div  class=cdline ><div  class=cdrinum >.68c</div><div  class=cdmcmd >;*  either prefab oltion $EDNi  to change, eg by op#  OR type mSys, no punct</div></div><div  class=cdline ><div  class=cdrinum >.69c</div><div  class=cdmcmd ><a href=CB-dmnu-newmSys.cb2.html >newmSys</a>  S ^MNU(0,"mSysCur")=mSys </div></div><div  class=cdline ><div  class=cdrinum >.70c</div><div  class=cdmcmd >         USE $P W:$X ! W "Changing mSys - diff <a href=CB-epaMenu-Menu.cb2.html >Menu</a> System - "</div></div><div  class=cdline ><div  class=cdrinum >.71c</div><div  class=cdmcmd >         R !,"Ret to continue:",X I X="." Goto Q</div></div><div  class=cdline ><div  class=cdrinum >.72c</div><div  class=cdmcmd >         S mnuMRou=$G(^MNU(mSys,0,"mnuMRou"))</div></div><div  class=cdline ><div  class=cdrinum >.73c</div><div  class=cdmcmd >         I mnuMRou'="" GOTO A^dmnRT  ; bypass <a href=CB-GAs-arg.cb2.html >arg</a>, Goto to preserve place on stack</div></div><div  class=cdline ><div  class=cdrinum >.74c</div><div  class=cdmcmd >         Goto ^dmnu  ;</div></div><div  class=cdline ><div  class=cdrinum >.75c</div><div  class=cdmcmd >;Goto Q to finish</div></div><div  class=cdline ><div  class=cdrinum >.76c</div><div  class=cdmcmd >Q      Q:$Q Q I Q'="" D b^dv("Err in <a href=CB-epaMenu-Menu.cb2.html >Menu</a> Op not handled.","Q,dopLR")</div></div><div  class=cdline ><div  class=cdrinum >.77c</div><div  class=cdmcmd >       Q</div></div><div  class=cdline ><div  class=cdrinum >.78c</div><div  class=cdmcmd >;*  New <a href=CB-epaMenu-Menu.cb2.html >Menu</a> op</div></div><div  class=cdline ><div  class=cdrinum >.79c</div><div  class=cdmcmd ><a href=CB-dmnu-RNM.cb2.html >RNM</a>    I dopMnu'="" S <a href=CB-dmnu-mab.cb2.html >mab</a>=dopMnu G <a href=CB-dmnu-PRMPT.cb2.html >PRMPT</a></div></div><div  class=cdline ><div  class=cdrinum >.80c</div><div  class=cdmcmd >       W:$X ! W " ?? <a href=CB-epaMenu-Menu.cb2.html >Menu</a> (",dopMnu,") " </div></div><div  class=cdline ><div  class=cdrinum >.81c</div><div  class=cdmcmd >       G <a href=CB-dmnu-PRMPT.cb2.html >PRMPT</a></div></div><div  class=cdline ><div  class=cdrinum >.82c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >.83c</div><div  class=cdmcmd ><a href=CB-dmnu-WAIT.cb2.html >WAIT</a>   U $P R !,"Ret to continue:",X</div></div><div  class=cdline ><div  class=cdrinum >.84c</div><div  class=cdmcmd >         I X'="" G <a href=CB-dmnu-RX.cb2.html >RX</a>  ;option already... ?</div></div><div  class=cdline ><div  class=cdrinum >.85c</div><div  class=cdmcmd >       I $G(<a href=CB-dmnu-mab.cb2.html >mab</a>)="" G <a href=CB-dmnu-RE.cb2.html >RE</a></div></div><div  class=cdline ><div  class=cdrinum >.86c</div><div  class=cdmcmd >       G <a href=CB-dmnu-PRMPT.cb2.html >PRMPT</a></div></div><div  class=cdline ><div  class=cdrinum >.87c</div><div  class=cdmcmd ><a href=CB-dmnu-RUN.cb2.html >RUN</a>    I dopLR'["^" W:$X ! W " ???" G <a href=CB-dmnu-PRMPT.cb2.html >PRMPT</a></div></div><div  class=cdline ><div  class=cdrinum >.88c</div><div  class=cdmcmd >       I $T(@$P(dopLR,"("))="" W:$X ! W "  MCode not accessible (",dopLR,") ",!,"  in $<a href=CB-dzZlog-zro.cb2.html >zro</a>=",$<a href=CB-dzZlog-zro.cb2.html >zro</a>,!! G <a href=CB-dmnu-WAIT.cb2.html >WAIT</a></div></div><div  class=cdline ><div  class=cdrinum >.89c</div><div  class=cdmcmd >       U $P W:$X ! W "Option ",$G(X),"  #",moi,"  ",dopLR,"-   -",!</div></div><div  class=cdline ><div  class=cdrinum >.90c</div><div  class=cdmcmd >       S rdX=$G(X)</div></div><div  class=cdline ><div  class=cdrinum >.91c</div><div  class=cdmcmd >       F f="dopLR","dopde","moi","rdX","mab" S ^MNU(mSys,0,f)=$G(@f)</div></div><div  class=cdline ><div  class=cdrinum >.92c</div><div  class=cdmcmd >       KILL MU   </div></div><div  class=cdline ><div  class=cdrinum >.93c</div><div  class=cdmcmd >       KILL <a href=CB-dmnu-mab.cb2.html >mab</a>,moi,Cmab,dopMnu,dopab,dopde,evdt,<a href=CB-dvIpg-mnu.cb2.html >mnu</a>,mi,<a href=CB-dmnCom-mnL.cb2.html >mnL</a>,mnLx,mabFL,mpreLR,dPRP,dDE,dnxt1,nxt,rdX</div></div><div  class=cdline ><div  class=cdrinum >.94c</div><div  class=cdmcmd >       D ^dmnKgp    ;KILL all but dopLR</div></div><div  class=cdline ><div  class=cdrinum >.95c</div><div  class=cdmcmd >       ;S $ETRAP="D ^dbgET"  ; not working, punt down the road...</div></div><div  class=cdline ><div  class=cdrinum >.96c</div><div  class=cdmcmd >       D @dopLR</div></div><div  class=cdline ><div  class=cdrinum >.97c</div><div  class=cdmcmd >       ;S $ETRAP=""</div></div><div  class=cdline ><div  class=cdrinum >.98c</div><div  class=cdmcmd >       ;D b^dv("Log finished Run","dopLR,moi,mab")</div></div><div  class=cdline ><div  class=cdrinum >.99c</div><div  class=cdmcmd >       U $P W:$X ! W "Finished Option...",$G(dopLR),"  ",! G <a href=CB-dmnu-WAIT.cb2.html >WAIT</a></div></div><div  class=cdline ><div  class=cdrinum >100c</div><div  class=cdmcmd >       G <a href=CB-dmnu-RE.cb2.html >RE</a></div></div><div  class=cdline ><div  class=cdrinum >101c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >102c</div><div  class=cdmcmd ><a href=CB-dmnu-LISTall.cb2.html >LISTall</a>  U $P S Cmab=<a href=CB-dmnu-mab.cb2.html >mab</a> W # S <a href=CB-dmnCom-mnL.cb2.html >mnL</a>="mm,cp,kp,ac" D LIST^dmnList</div></div><div  class=cdline ><div  class=cdrinum >103c</div><div  class=cdmcmd >       S <a href=CB-dmnu-mab.cb2.html >mab</a>=Cmab G <a href=CB-dmnu-WAIT.cb2.html >WAIT</a></div></div><div  class=cdline ><div  class=cdrinum >104c</div><div  class=cdmcmd >; List <a href=CB-dzZlog-menu.cb2.html >menu</a> for dialog</div></div><div  class=cdline ><div  class=cdrinum >105c</div><div  class=cdmcmd ><a href=CB-dmnu-LIS.cb2.html >LIS</a>    W #,<a href=CB-dmnu-mab.cb2.html >mab</a>,".  ",$G(MU(<a href=CB-dmnu-mab.cb2.html >mab</a>,"dDE")),"  "</div></div><div  class=cdline ><div  class=cdrinum >106c</div><div  class=cdmcmd >       I mpreLR["^" D @mpreLR  ; usu dis^*<a href=CB-epaMenu-Menu.cb2.html >Menu</a>  header dashboard</div></div><div  class=cdline ><div  class=cdrinum >107c</div><div  class=cdmcmd >       F moi=1:1 Q:'$D(MU(<a href=CB-dmnu-mab.cb2.html >mab</a>,moi))  D <a href=CB-dmnu-Gop.cb2.html >Gop</a>,<a href=CB-dmnu-Wop.cb2.html >Wop</a></div></div><div  class=cdline ><div  class=cdrinum >108c</div><div  class=cdmcmd >       W !</div></div><div  class=cdline ><div  class=cdrinum >109c</div><div  class=cdmcmd >       Q</div></div><div  class=cdline ><div  class=cdrinum >110c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >111c</div><div  class=cdmcmd ><a href=CB-dmnu-LISmSys.cb2.html >LISmSys</a>  NEW RI  </div></div><div  class=cdline ><div  class=cdrinum >112c</div><div  class=cdmcmd >       USE $P W:$X ! W "List all <a href=CB-epaMenu-Menu.cb2.html >Menu</a> System id's mSys-   in $zgl: ",$zgl,!</div></div><div  class=cdline ><div  class=cdrinum >113c</div><div  class=cdmcmd >       S m=0 F mi=1:1 S m=$O(^MNU(m)) Q:m=""  W:$X ! W "  ",mi,") ",m,!  S RI(mi)=m</div></div><div  class=cdline ><div  class=cdrinum >114c</div><div  class=cdmcmd >       R "Select by n (or mSys) ",X</div></div><div  class=cdline ><div  class=cdrinum >115c</div><div  class=cdmcmd >       S mnew="" I +X S mnew=$G(RI(+X)),X=""</div></div><div  class=cdline ><div  class=cdrinum >116c</div><div  class=cdmcmd >       I X'="",$D(^MNU(X))=11 S mnew=X</div></div><div  class=cdline ><div  class=cdrinum >117c</div><div  class=cdmcmd >       I mnew'="" S mSys=mnew Goto <a href=CB-dmnu-newmSys.cb2.html >newmSys</a></div></div><div  class=cdline ><div  class=cdrinum >118c</div><div  class=cdmcmd >       G <a href=CB-dmnu-PRMPT.cb2.html >PRMPT</a></div></div><div  class=cdline ><div  class=cdrinum >119c</div><div  class=cdmcmd >;*  <a href=CB-KGD-search.cb2.html >Search</a> All</div></div><div  class=cdline ><div  class=cdrinum >120c</div><div  class=cdmcmd ><a href=CB-dmnu-SrchX.cb2.html >SrchX</a>  S mch=$P(X,"?"),Cmab=<a href=CB-dmnu-mab.cb2.html >mab</a> I mch="" G <a href=CB-dmnu-LISTall.cb2.html >LISTall</a></div></div><div  class=cdline ><div  class=cdrinum >121c</div><div  class=cdmcmd >       D mnL^dmnCom(mSys)  ; <a href=CB-dmnCom-mnL.cb2.html >mnL</a></div></div><div  class=cdline ><div  class=cdrinum >122c</div><div  class=cdmcmd >       F mi=1:1:$L(<a href=CB-dmnCom-mnL.cb2.html >mnL</a>,",") S <a href=CB-dmnu-mab.cb2.html >mab</a>=$P(<a href=CB-dmnCom-mnL.cb2.html >mnL</a>,",",mi) DO</div></div><div  class=cdline ><div  class=cdrinum >123c</div><div  class=cdmcmd >         .D <a href=CB-dmnu-Gmab.cb2.html >Gmab</a>,<a href=CB-dmnu-L1.cb2.html >L1</a></div></div><div  class=cdline ><div  class=cdrinum >124c</div><div  class=cdmcmd >         .F moi=1:1 Q:'$D(MU(<a href=CB-dmnu-mab.cb2.html >mab</a>,moi))  D <a href=CB-dmnu-Gop.cb2.html >Gop</a>,<a href=CB-dmnu-L2.cb2.html >L2</a></div></div><div  class=cdline ><div  class=cdrinum >125c</div><div  class=cdmcmd >       S <a href=CB-dmnu-mab.cb2.html >mab</a>=Cmab G <a href=CB-dmnu-WAIT.cb2.html >WAIT</a></div></div><div  class=cdline ><div  class=cdrinum >126c</div><div  class=cdmcmd >;* : <a href=CB-dmnu-L1.cb2.html >L1</a> if not listed/matched</div></div><div  class=cdline ><div  class=cdrinum >127c</div><div  class=cdmcmd ><a href=CB-dmnu-L1.cb2.html >L1</a>   S U="_",<a href=CB-dmnu-L1.cb2.html >L1</a>=<a href=CB-dmnu-mab.cb2.html >mab</a>_U_dDE_U_dPRP</div></div><div  class=cdline ><div  class=cdrinum >128c</div><div  class=cdmcmd >     I <a href=CB-dmnu-L1.cb2.html >L1</a>[mch D <a href=CB-dmnu-Wmab.cb2.html >Wmab</a> S <a href=CB-dmnu-L1.cb2.html >L1</a>="" Q</div></div><div  class=cdline ><div  class=cdrinum >129c</div><div  class=cdmcmd >     Q</div></div><div  class=cdline ><div  class=cdrinum >130c</div><div  class=cdmcmd ><a href=CB-dmnu-L2.cb2.html >L2</a>   S <a href=CB-dmnu-L2.cb2.html >L2</a>=dopLR_U_dopab_U_dopde_U_dopMnu</div></div><div  class=cdline ><div  class=cdrinum >131c</div><div  class=cdmcmd >     I <a href=CB-dmnu-L2.cb2.html >L2</a>[mch D:<a href=CB-dmnu-L1.cb2.html >L1</a>'="" <a href=CB-dmnu-Wmab.cb2.html >Wmab</a> D <a href=CB-dmnu-Wop.cb2.html >Wop</a></div></div><div  class=cdline ><div  class=cdrinum >132c</div><div  class=cdmcmd >     Q</div></div><div  class=cdline ><div  class=cdrinum >133c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >134c</div><div  class=cdmcmd ><a href=CB-dmnu-Wmab.cb2.html >Wmab</a> W:$X ! W <a href=CB-dmnu-mab.cb2.html >mab</a>,".  ",dDE,"    {",dPRP,"}",!</div></div><div  class=cdline ><div  class=cdrinum >135c</div><div  class=cdmcmd >     S <a href=CB-dmnu-L1.cb2.html >L1</a>=""   ; only <a href=CB-epaMenu-dis.cb2.html >Dis</a> once for ops that match</div></div><div  class=cdline ><div  class=cdrinum >136c</div><div  class=cdmcmd >     Q</div></div><div  class=cdline ><div  class=cdrinum >137c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >138c</div><div  class=cdmcmd ><a href=CB-dmnu-Wop.cb2.html >Wop</a>    W:$X ! W moi,")"</div></div><div  class=cdline ><div  class=cdrinum >139c</div><div  class=cdmcmd >       I opD'="" W "*"</div></div><div  class=cdline ><div  class=cdrinum >140c</div><div  class=cdmcmd >       W "  "</div></div><div  class=cdline ><div  class=cdrinum >141c</div><div  class=cdmcmd >       I dopab'="" W dopab,".  "</div></div><div  class=cdline ><div  class=cdrinum >142c</div><div  class=cdmcmd >       DO  ;</div></div><div  class=cdline ><div  class=cdrinum >143c</div><div  class=cdmcmd >         .I dopde'="" W ?15,dopde</div></div><div  class=cdline ><div  class=cdrinum >144c</div><div  class=cdmcmd >         .E  W "Undescribed op "</div></div><div  class=cdline ><div  class=cdrinum >145c</div><div  class=cdmcmd >       W "  ",?50 DO</div></div><div  class=cdline ><div  class=cdrinum >146c</div><div  class=cdmcmd >            .I dopLR["^" W dopLR,! Q</div></div><div  class=cdline ><div  class=cdrinum >147c</div><div  class=cdmcmd >            .I dopMnu'="" W "Menu: ",dopMnu,! Q</div></div><div  class=cdline ><div  class=cdrinum >148c</div><div  class=cdmcmd >            .W "*** Destination ? dopLR or dopMnu",! Q</div></div><div  class=cdline ><div  class=cdrinum >149c</div><div  class=cdmcmd >       Q</div></div><div  class=cdline ><div  class=cdrinum >150c</div><div  class=cdmcmd >;</div></div><div  class=cdline ><div  class=cdrinum >151c</div><div  class=cdmcmd >; Stripped Down, Custom <a href=CB-kfm~1-GFL.cb2.html >GFL</a> Get list of vars, two lists mabFL <a href=CB-dzZlog-menu.cb2.html >menu</a>, opFL option-<a href=CB-hghTemplate-line.cb2.html >line</a></div></div><div  class=cdline ><div  class=cdrinum >152c</div><div  class=cdmcmd >;      MU(<a href=CB-dmnu-mab.cb2.html >mab</a>)   <a href=CB-epaMenu-Menu.cb2.html >Menu</a> fields  @mabFL</div></div><div  class=cdline ><div  class=cdrinum >153c</div><div  class=cdmcmd ><a href=CB-dmnu-Gmab.cb2.html >Gmab</a>   D T^dws("mabFL:dPRP,dDE,dnxt1_^MNU(mSys,<a href=CB-dmnu-mab.cb2.html >mab</a>)")</div></div><div  class=cdline ><div  class=cdrinum >154c</div><div  class=cdmcmd >       S FL=$P(mabFL,"_") F vi=1:1:$L(FL,",") S <a href=CB-GAscan-vn.cb2.html >vn</a>=$P(FL,",",vi),@<a href=CB-GAscan-vn.cb2.html >vn</a>=$G(MU(<a href=CB-dmnu-mab.cb2.html >mab</a>,<a href=CB-GAscan-vn.cb2.html >vn</a>))</div></div><div  class=cdline ><div  class=cdrinum >155c</div><div  class=cdmcmd >       Q</div></div><div  class=cdline ><div  class=cdrinum >156c</div><div  class=cdmcmd >;   <a href=CB-dmnu-mab.cb2.html >mab</a>, moi   :  dopLR  null if undef, opD, opde/dopde op moi   Custom GFL^dgmg (dont want to call out for <a href=CB-epaMenu-Menu.cb2.html >Menu</a>)</div></div><div  class=cdline ><div  class=cdrinum >157c</div><div  class=cdmcmd ><a href=CB-dmnu-Gop.cb2.html >Gop</a>    D T^dws("opFL:dopLR,dopMnu,dopab,dopde,dnxt2_^MNU(mSys,<a href=CB-dmnu-mab.cb2.html >mab</a>,moi)") </div></div><div  class=cdline ><div  class=cdrinum >158c</div><div  class=cdmcmd >         ;sic ref by IMG^dmnCom</div></div><div  class=cdline ><div  class=cdrinum >159c</div><div  class=cdmcmd >       I $G(moi)="" S moi=999  ;sic</div></div><div  class=cdline ><div  class=cdrinum >160c</div><div  class=cdmcmd >       S FL=$P(opFL,"_") F vi=1:1:$L(FL,",") S <a href=CB-GAscan-vn.cb2.html >vn</a>=$P(FL,",",vi),@<a href=CB-GAscan-vn.cb2.html >vn</a>=$G(MU(<a href=CB-dmnu-mab.cb2.html >mab</a>,moi,<a href=CB-GAscan-vn.cb2.html >vn</a>))</div></div><div  class=cdline ><div  class=cdrinum >161c</div><div  class=cdmcmd >       S opD=$$<a href=CB-dmnu-AUop.cb2.html >AUop</a>(dopLR)  ; null defined, else not ( : Lop, opde)</div></div><div  class=cdline ><div  class=cdrinum >162c</div><div  class=cdmcmd >       Q</div></div><div  class=cdline ><div  class=cdrinum >163c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >164c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >165c</div><div  class=cdmcmd >;*$$Q  : Lop first <a href=CB-hghTemplate-line.cb2.html >line</a> of code, opde  ;; descr</div></div><div  class=cdline ><div  class=cdrinum >166c</div><div  class=cdmcmd ><a href=CB-dmnu-AUop.cb2.html >AUop</a>(dopLR)  NEW Q S Q="",Lop="",opde=""</div></div><div  class=cdline ><div  class=cdrinum >167c</div><div  class=cdmcmd >     I dopLR="" S Q="No Entry Label" G <a href=CB-dmnu-QA.cb2.html >QA</a></div></div><div  class=cdline ><div  class=cdrinum >168c</div><div  class=cdmcmd >     S LR=$P(dopLR,"(")</div></div><div  class=cdline ><div  class=cdrinum >169c</div><div  class=cdmcmd >     I LR'["^" S Q="Not valid without ^" G <a href=CB-dmnu-QA.cb2.html >QA</a>     ; No context for local sr ref.</div></div><div  class=cdline ><div  class=cdrinum >170c</div><div  class=cdmcmd >     S Lop=$T(@LR)</div></div><div  class=cdline ><div  class=cdrinum >171c</div><div  class=cdmcmd >     S opde=$P(Lop,";;",2,9)  ; null if Lop null     </div></div><div  class=cdline ><div  class=cdrinum >172c</div><div  class=cdmcmd >     I Lop="" S Q="Undef"</div></div><div  class=cdline ><div  class=cdrinum >173c</div><div  class=cdmcmd ><a href=CB-dmnu-QA.cb2.html >QA</a>   Q Q</div></div><div  class=cdline ><div  class=cdrinum >174c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >175c</div><div  class=cdmcmd ></div></div><div  class=cdline ><div  class=cdrinum >176c</div><div  class=cdmcmd >;* * * * * *</div></div></div><div  class=ft >by ^mwHmr 16 APR 2023 11:32 PM</div><h3> 16APR2023 23:32   by ^hgh</h3>
</body>
</html>
