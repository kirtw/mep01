<!DOCTYPE html>
<html lang='en'>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>
^dzRcfg
</title>
<style> 
.hd  {font-size: 2em;}
body  {font-size:100%;}
.cdline  {font-family: "Courier New", monospace;   font-size: 1em;}
.cdline  {display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; }
.cdrinum  {flex: 1;}
.cdlabel  {flex: 5;}
.cdmcmd  {flex: 94;}
.cdline  {white-space:pre-wrap; }
.cdmcmd  {text-indent:5px white-space:pre-wrap;}
.cdline  {background-color:gray}
.cdrinum  {background-color:gold; width:100px ; margin-right:5px}
.cdlabel  {background-color:lightblue}
.cdmcmd  {background-color:lightpink}
a  {margin:5px 0px 5px 0px;}
.brcln  {display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; }
a  {flex: 1;}
.blink  {flex: 1;}
.brcln  {white-space:pre-wrap; flex-wrap: wrap;}
.brcln  {font-size: 1.4em; font-family: "Courier New", monospace; }
.blink  {margin-left: 10px;margin-right: 10px;text-decoration: none;}
.blink  {padding-left: 5px; padding-right: 20px;border: black solid 1px;}
.blink  {background-color: lightpink;}
.cursor  {background-color:lightyellow;}
</style>
</head>
<body>
<div  class=hd >MRoutine Page ^dzRcfg</div><a href=aa-TOC-All.zz2.html >TOC</a><div  class=brcln ><a href=aa-TOC-All.zz2.html >TOC</a><div  class=blink ><a href=RD-rzro3.rd2.html >rzro3/</a></div><div  class=blink ><a href=MR-dzRcfg.mr2.html >^dzRcfg</a></div><div  class=blink ><a href=./ >ww2m/*</a></div><div  class=blink ><a href=CB-dzRcfg.cb2.html >DSP</a></div><div  class=blink ><a href=CB-dzRcfg-top.cb2.html >top</a></div><div  class=blink ><a href=CB-dzRcfg-szro.cb2.html >szro</a></div><div  class=blink ><a href=CB-dzRcfg-Q.cb2.html >Q</a></div><div  class=blink ><a href=CB-dzRcfg-Qbug.cb2.html >Qbug</a></div><div  class=blink ><a href=CB-dzRcfg-qz.cb2.html >qz</a></div><div  class=blink ><a href=CB-dzRcfg-DS.cb2.html >DS</a></div><div  class=blink ><a href=CB-dzRcfg-Wzdir.cb2.html >Wzdir</a></div><div  class=blink ><a href=CB-dzRcfg-RD.cb2.html >RD</a></div><div  class=blink ><a href=CB-dzRcfg-EO.cb2.html >EO</a></div><div  class=blink ><a href=CB-dzRcfg-EU.cb2.html >EU</a></div><div  class=blink ><a href=CB-dzRcfg-devIBmpj.cb2.html >devIBmpj</a></div><div  class=blink ><a href=CB-dzRcfg-devIB.cb2.html >devIB</a></div><div  class=blink ><a href=CB-dzRcfg-cb.cb2.html >cb</a></div><div  class=blink ><a href=CB-dzRcfg-d2.cb2.html >d2</a></div><div  class=blink ><a href=CB-dzRcfg-DSP.cb2.html >DSP</a></div><div  class=blink ><a href=CB-dzRcfg-TSP.cb2.html >TSP</a></div></div><div  class=mcode ><div  class=cdline ><div  class=cdrinum >..1c</div><div  class=cdmcmd >dzRcfg(impj) ;CKW/ESC i10nov22 gmsa/./ rzro3/ ;20221110-79;Read zroCfg File: izro</div></div><div  class=cdline ><div  class=cdrinum >..2c</div><div  class=cdmcmd >;</div></div><div  class=cdline ><div  class=cdrinum >..3c</div><div  class=cdmcmd >;      : zro2  replacement for $<a href=CB-dzZlog-zro.cb2.html >zro</a> izro</div></div><div  class=cdline ><div  class=cdrinum >..4c</div><div  class=cdmcmd >       I $G(impj)="" D bug^dv("arg impj ~kwmpj","impj")</div></div><div  class=cdline ><div  class=cdrinum >..5c</div><div  class=cdmcmd >;</div></div><div  class=cdline ><div  class=cdrinum >..6c</div><div  class=cdmcmd ><a href=CB-mwPET-top.cb2.html >top</a>    NEW:0 BB,PB,SB,GB,MB,<a href=CB-devIB-W2B.cb2.html >W2B</a>,fil,<a href=CB-devIO-dev.cb2.html >dev</a>,RON,X,Zeof,<a href=CB-dvvr-CB.cb2.html >CB</a>,dist</div></div><div  class=cdline ><div  class=cdrinum >..7c</div><div  class=cdmcmd >       NEW:0 zro2</div></div><div  class=cdline ><div  class=cdrinum >..8c</div><div  class=cdmcmd >       D <a href=CB-dzRcfg-devIBmpj.cb2.html >devIBmpj</a>(impj)  ; PB,SB,GB,MB</div></div><div  class=cdline ><div  class=cdrinum >..9c</div><div  class=cdmcmd >       S fil="zroCfg.mdk"</div></div><div  class=cdline ><div  class=cdrinum >.10c</div><div  class=cdmcmd >       S <a href=CB-devIO-dev.cb2.html >dev</a>=PB_"cfg/"_fil</div></div><div  class=cdline ><div  class=cdrinum >.11c</div><div  class=cdmcmd >       S Q=$$<a href=CB-dzRcfg-RD.cb2.html >RD</a>(<a href=CB-devIO-dev.cb2.html >dev</a>)</div></div><div  class=cdline ><div  class=cdrinum >.12c</div><div  class=cdmcmd >       S zro2=dist_" "_PB_"o("</div></div><div  class=cdline ><div  class=cdrinum >.13c</div><div  class=cdmcmd >       S BB=PB  ;default before any // lines  </div></div><div  class=cdline ><div  class=cdrinum >.14c</div><div  class=cdmcmd >       D ^dv("  * * * <a href=CB-dv2-log.cb2.html >Log</a> Rcfg ","fil,PB,BB,<a href=CB-devIO-dev.cb2.html >dev</a>,RD")       </div></div><div  class=cdline ><div  class=cdrinum >.15c</div><div  class=cdmcmd >       ;</div></div><div  class=cdline ><div  class=cdrinum >.16c</div><div  class=cdmcmd >       F ri=1:1:<a href=CB-dzRcfg-RD.cb2.html >RD</a> S X0=<a href=CB-dzRcfg-RD.cb2.html >RD</a>(ri) DO  ;</div></div><div  class=cdline ><div  class=cdrinum >.17c</div><div  class=cdmcmd >         .S X=$$<a href=CB-epW-DSP.cb2.html >DSP</a>(X0)</div></div><div  class=cdline ><div  class=cdrinum >.18c</div><div  class=cdmcmd >         .I X["//" D <a href=CB-dzRcfg-DS.cb2.html >DS</a>(X) Q  ; Set BB         </div></div><div  class=cdline ><div  class=cdrinum >.19c</div><div  class=cdmcmd >         .S rdir=$P(X," ")</div></div><div  class=cdline ><div  class=cdrinum >.20c</div><div  class=cdmcmd >         .I rdir="" Q</div></div><div  class=cdline ><div  class=cdrinum >.21c</div><div  class=cdmcmd >         .W:$X ! W "Add ",BB,"  ",rdir,!</div></div><div  class=cdline ><div  class=cdrinum >.22c</div><div  class=cdmcmd >         .S zro2=zro2_BB_rdir_" "</div></div><div  class=cdline ><div  class=cdrinum >.23c</div><div  class=cdmcmd >       S zro2=zro2_") "_dist_"/libyottadb.<a href=CB-dzroz-so.cb2.html >so</a> "_dist_"/libyottadbutil.so"</div></div><div  class=cdline ><div  class=cdrinum >.24c</div><div  class=cdmcmd >       D ^dv("Log zro2 done","zro2")</div></div><div  class=cdline ><div  class=cdrinum >.25c</div><div  class=cdmcmd ><a href=CB-dzRcfg-szro.cb2.html >szro</a>   ;S Q=$$^dzroz(zro2) I Q'="" G Q</div></div><div  class=cdline ><div  class=cdrinum >.26c</div><div  class=cdmcmd >       ;D <a href=CB-dzRcfg-Wzdir.cb2.html >Wzdir</a></div></div><div  class=cdline ><div  class=cdrinum >.27c</div><div  class=cdmcmd >       S izro=zro2</div></div><div  class=cdline ><div  class=cdrinum >.28c</div><div  class=cdmcmd >       ;S $<a href=CB-dzZlog-zro.cb2.html >zro</a>=zro2 leave to caller to set $<a href=CB-dzZlog-zro.cb2.html >zro</a></div></div><div  class=cdline ><div  class=cdrinum >.29c</div><div  class=cdmcmd >Q      Q:$Q Q Q:Q=""  D <a href=CB-dzRcfg-qz.cb2.html >qz</a> Q</div></div><div  class=cdline ><div  class=cdrinum >.30c</div><div  class=cdmcmd ><a href=CB-hghTemplate-Qbug.cb2.html >Qbug</a>   D <a href=CB-dzRcfg-qz.cb2.html >qz</a> Q:$Q Q Q</div></div><div  class=cdline ><div  class=cdrinum >.31c</div><div  class=cdmcmd ><a href=CB-dzRcfg-qz.cb2.html >qz</a>     D b^dv("Err ^"_$T(+0),"Q,rdL,BB")</div></div><div  class=cdline ><div  class=cdrinum >.32c</div><div  class=cdmcmd >       Q</div></div><div  class=cdline ><div  class=cdrinum >.33c</div><div  class=cdmcmd >;*  // <a href=CB-hghTemplate-line.cb2.html >line</a>  Requires  PB,SB,GB,MB  </div></div><div  class=cdline ><div  class=cdrinum >.34c</div><div  class=cdmcmd ><a href=CB-dzRcfg-DS.cb2.html >DS</a>(X)  ;</div></div><div  class=cdline ><div  class=cdrinum >.35c</div><div  class=cdmcmd >       I X["#" S C=$P(X,"#",2,9),X=$P(X,"#")</div></div><div  class=cdline ><div  class=cdrinum >.36c</div><div  class=cdmcmd >       S X=$$<a href=CB-epW-DSP.cb2.html >DSP</a>($P(X,"//",2))</div></div><div  class=cdline ><div  class=cdrinum >.37c</div><div  class=cdmcmd >       F xi=1:1:$L(X," ") DO  ;</div></div><div  class=cdline ><div  class=cdrinum >.38c</div><div  class=cdmcmd >         .S XP=$P(X," ",xi) </div></div><div  class=cdline ><div  class=cdrinum >.39c</div><div  class=cdmcmd >         .U $P W:$X ! W "Lp:",xi," ",ri," -'",XP,"' ",!,zro2,!         </div></div><div  class=cdline ><div  class=cdrinum >.40c</div><div  class=cdmcmd >         .I XP="" Q</div></div><div  class=cdline ><div  class=cdrinum >.41c</div><div  class=cdmcmd >         .I XP="ou" S zro2=zro2_") "_PB_"ou(" Q</div></div><div  class=cdline ><div  class=cdrinum >.42c</div><div  class=cdmcmd >         .I XP["GB" S BB=GB Q</div></div><div  class=cdline ><div  class=cdrinum >.43c</div><div  class=cdmcmd >         .I XP="MB" S BB=MB Q</div></div><div  class=cdline ><div  class=cdrinum >.44c</div><div  class=cdmcmd >         .I XP="PB" S BB=PB Q</div></div><div  class=cdline ><div  class=cdrinum >.45c</div><div  class=cdmcmd >         .I XP["BB" B  S BB=$P(XP,"BB:",2) D b^dv("Log BB","BB,xi,XP,X,ri") Q</div></div><div  class=cdline ><div  class=cdrinum >.46c</div><div  class=cdmcmd >         .D b^dv2("Err ?XP in // line","XP,xi,X,zro2,BB")</div></div><div  class=cdline ><div  class=cdrinum >.47c</div><div  class=cdmcmd >       Q</div></div><div  class=cdline ><div  class=cdrinum >.48c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >.49c</div><div  class=cdmcmd ><a href=CB-dzRcfg-Wzdir.cb2.html >Wzdir</a>  W !!,"zdir(oi,si)- ",!</div></div><div  class=cdline ><div  class=cdrinum >.50c</div><div  class=cdmcmd >       I $D(<a href=CB-dzdelo-zdir.cb2.html >zdir</a>)=0 W "zdir() <a href=CB-dve-UNDEF.cb2.html >UNDEF</a>."</div></div><div  class=cdline ><div  class=cdrinum >.51c</div><div  class=cdmcmd >       E  <a href=CB-dv2-zwr.cb2.html >zwr</a> <a href=CB-dzdelo-zdir.cb2.html >zdir</a></div></div><div  class=cdline ><div  class=cdrinum >.52c</div><div  class=cdmcmd >       W !</div></div><div  class=cdline ><div  class=cdrinum >.53c</div><div  class=cdmcmd >       Q</div></div><div  class=cdline ><div  class=cdrinum >.54c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >.55c</div><div  class=cdmcmd ><a href=CB-dzRcfg-RD.cb2.html >RD</a>(<a href=CB-devIO-dev.cb2.html >dev</a>)  NEW Q S Q=""   NEW RON,X</div></div><div  class=cdline ><div  class=cdrinum >.56c</div><div  class=cdmcmd >       CLOSE <a href=CB-devIO-dev.cb2.html >dev</a> ; safety/debug repitition</div></div><div  class=cdline ><div  class=cdrinum >.57c</div><div  class=cdmcmd >       OPEN <a href=CB-devIO-dev.cb2.html >dev</a>:(readonly:exception="G EO^"_$T(+0))</div></div><div  class=cdline ><div  class=cdrinum >.58c</div><div  class=cdmcmd >       USE <a href=CB-devIO-dev.cb2.html >dev</a>:(rewind:exception="G EU^"_$T(+0))</div></div><div  class=cdline ><div  class=cdrinum >.59c</div><div  class=cdmcmd >       S RON=0,rj=0 F ri=1:1 USE <a href=CB-devIO-dev.cb2.html >dev</a> R X S Zeof=$ZEOF USE $P Q:Zeof  Q:X["***"  DO  ;</div></div><div  class=cdline ><div  class=cdrinum >.60c</div><div  class=cdmcmd >         .I X["#" S X=$P(X,"#") ;ignore comments</div></div><div  class=cdline ><div  class=cdrinum >.61c</div><div  class=cdmcmd >         .I X="" Q</div></div><div  class=cdline ><div  class=cdrinum >.62c</div><div  class=cdmcmd >         .I X["//" S RON=1  ;turn on parsing</div></div><div  class=cdline ><div  class=cdrinum >.63c</div><div  class=cdmcmd >         .Q:'RON</div></div><div  class=cdline ><div  class=cdrinum >.64c</div><div  class=cdmcmd >         .S rj=rj+1,<a href=CB-dzRcfg-RD.cb2.html >RD</a>(rj)=X,<a href=CB-dzRcfg-RD.cb2.html >RD</a>=rj</div></div><div  class=cdline ><div  class=cdrinum >.65c</div><div  class=cdmcmd >       Q Q</div></div><div  class=cdline ><div  class=cdrinum >.66c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >.67c</div><div  class=cdmcmd ><a href=CB-dzRcfg-EO.cb2.html >EO</a>     U $P S Q="Err Opening dev" </div></div><div  class=cdline ><div  class=cdrinum >.68c</div><div  class=cdmcmd >       W:$X ! W $ZS,!,$ZE,!</div></div><div  class=cdline ><div  class=cdrinum >.69c</div><div  class=cdmcmd >       D b^dv(Q,"Q,<a href=CB-devIO-dev.cb2.html >dev</a>,PB")</div></div><div  class=cdline ><div  class=cdrinum >.70c</div><div  class=cdmcmd >       Q Q</div></div><div  class=cdline ><div  class=cdrinum >.71c</div><div  class=cdmcmd ><a href=CB-dzRcfg-EU.cb2.html >EU</a>     U $P S Q="Err USEing dev" D b^dv(Q,"Q,<a href=CB-devIO-dev.cb2.html >dev</a>,ZEOF,ri,X")</div></div><div  class=cdline ><div  class=cdrinum >.72c</div><div  class=cdmcmd >       Q Q</div></div><div  class=cdline ><div  class=cdrinum >.73c</div><div  class=cdmcmd >;*   :  PB, GB, MB, <a href=CB-devIB-W2B.cb2.html >W2B</a></div></div><div  class=cdline ><div  class=cdrinum >.74c</div><div  class=cdmcmd ><a href=CB-dzRcfg-devIBmpj.cb2.html >devIBmpj</a>(mpj) S <a href=CB-dzIB-kwmpj.cb2.html >kwmpj</a>=mpj</div></div><div  class=cdline ><div  class=cdrinum >.75c</div><div  class=cdmcmd >       S SB="/home/kw/km3a/"</div></div><div  class=cdline ><div  class=cdrinum >.76c</div><div  class=cdmcmd >       S PB=SB_<a href=CB-dzIB-kwmpj.cb2.html >kwmpj</a>_"/"</div></div><div  class=cdline ><div  class=cdrinum >.77c</div><div  class=cdmcmd >       S GB=SB_"gmsa/"</div></div><div  class=cdline ><div  class=cdrinum >.78c</div><div  class=cdmcmd >       S MB=SB_"gmma/"</div></div><div  class=cdline ><div  class=cdrinum >.79c</div><div  class=cdmcmd >       S <a href=CB-devIB-W2B.cb2.html >W2B</a>=PB_"ww2x"</div></div><div  class=cdline ><div  class=cdrinum >.80c</div><div  class=cdmcmd >       S dist=$P($<a href=CB-dzZlog-zro.cb2.html >zro</a>,"(")</div></div><div  class=cdline ><div  class=cdrinum >.81c</div><div  class=cdmcmd >       Q</div></div><div  class=cdline ><div  class=cdrinum >.82c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >.83c</div><div  class=cdmcmd >;*  sub for ^devIB til stabilized</div></div><div  class=cdline ><div  class=cdrinum >.84c</div><div  class=cdmcmd ><a href=CB-dzXIzro-devIB.cb2.html >devIB</a>  S <a href=CB-dvvr-CB.cb2.html >CB</a>=$ZTRNLNM("PWD")</div></div><div  class=cdline ><div  class=cdrinum >.85c</div><div  class=cdmcmd >       S dist=$ZTRNLNM("ydb_dist")</div></div><div  class=cdline ><div  class=cdrinum >.86c</div><div  class=cdmcmd ><a href=CB-dzRcfg-cb.cb2.html >cb</a>       I <a href=CB-dvvr-CB.cb2.html >CB</a>="" S <a href=CB-dvvr-CB.cb2.html >CB</a>="/home/kw/km3a/<a href=CB-dzCBL-umad.cb2.html >umad</a>/" B  ;</div></div><div  class=cdline ><div  class=cdrinum >.87c</div><div  class=cdmcmd >         I dist="" D b^dv2("Err dist","dist,CB") Q</div></div><div  class=cdline ><div  class=cdrinum >.88c</div><div  class=cdmcmd ><a href=CB-dzRcfg-d2.cb2.html >d2</a>       I $E(<a href=CB-dvvr-CB.cb2.html >CB</a>,$L(<a href=CB-dvvr-CB.cb2.html >CB</a>))'="/" S <a href=CB-dvvr-CB.cb2.html >CB</a>=<a href=CB-dvvr-CB.cb2.html >CB</a>_"/"</div></div><div  class=cdline ><div  class=cdrinum >.89c</div><div  class=cdmcmd >       S nsl=$L(<a href=CB-dvvr-CB.cb2.html >CB</a>,"/")</div></div><div  class=cdline ><div  class=cdrinum >.90c</div><div  class=cdmcmd >       S SB=$P(<a href=CB-dvvr-CB.cb2.html >CB</a>,"/",1,nsl-2)</div></div><div  class=cdline ><div  class=cdrinum >.91c</div><div  class=cdmcmd >       S <a href=CB-dzIB-kwmpj.cb2.html >kwmpj</a>=$P(<a href=CB-dvvr-CB.cb2.html >CB</a>,"/",nsl-1)</div></div><div  class=cdline ><div  class=cdrinum >.92c</div><div  class=cdmcmd >       S kwsys=$P(<a href=CB-dvvr-CB.cb2.html >CB</a>,"/",nsl-2)</div></div><div  class=cdline ><div  class=cdrinum >.93c</div><div  class=cdmcmd >       S PB=<a href=CB-dvvr-CB.cb2.html >CB</a></div></div><div  class=cdline ><div  class=cdrinum >.94c</div><div  class=cdmcmd >       Q</div></div><div  class=cdline ><div  class=cdrinum >.95c</div><div  class=cdmcmd ></div></div><div  class=cdline ><div  class=cdrinum >.96c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >.97c</div><div  class=cdmcmd >;*  Copy from gmsa/ rd2c/ ^dv2c to avoid dependencies</div></div><div  class=cdline ><div  class=cdrinum >.98c</div><div  class=cdmcmd >;*  Replace all dbl spaces (or more) with single, and remove starting/ending</div></div><div  class=cdline ><div  class=cdrinum >.99c</div><div  class=cdmcmd ><a href=CB-epW-DSP.cb2.html >DSP</a>(X) NEW i I $G(X)="" Q X</div></div><div  class=cdline ><div  class=cdrinum >100c</div><div  class=cdmcmd >    S X=$<a href=CB-dzIzro-TR.cb2.html >TR</a>(X,$C(9)_$C(10)_$C(13),"   ")  ;replace tab,lf,cr with space</div></div><div  class=cdline ><div  class=cdrinum >101c</div><div  class=cdmcmd >    F i=0:1 Q:X'["  "  S X=$P(X,"  ")_" "_$P(X,"  ",2,9999)</div></div><div  class=cdline ><div  class=cdrinum >102c</div><div  class=cdmcmd > Q $$<a href=CB-epW-TSP.cb2.html >TSP</a>(X)</div></div><div  class=cdline ><div  class=cdrinum >103c</div><div  class=cdmcmd >;*  Remove <a href=CB-KGD-start.cb2.html >start</a> and end spaces (only)</div></div><div  class=cdline ><div  class=cdrinum >104c</div><div  class=cdmcmd ><a href=CB-epW-TSP.cb2.html >TSP</a>(X) NEW i S X=$<a href=CB-dzIzro-TR.cb2.html >TR</a>(X,$C(9)_$C(10)_$C(13),"   ")  ;replace tab,lf,cr with space</div></div><div  class=cdline ><div  class=cdrinum >105c</div><div  class=cdmcmd > I $E($G(X))=" " F i=1:1:$L(X) I $E(X,i)'=" " S X=$E(X,i,999) Q</div></div><div  class=cdline ><div  class=cdrinum >106c</div><div  class=cdmcmd > I $E(X,$L(X))=" " F i=$L(X):-1:1 I $E(X,i)'=" " S X=$E(X,1,i) Q</div></div><div  class=cdline ><div  class=cdrinum >107c</div><div  class=cdmcmd > I X=" " S X=""  ; Funny case all spaces  vs end i=0 second <a href=CB-hghTemplate-line.cb2.html >line</a> ?</div></div><div  class=cdline ><div  class=cdrinum >108c</div><div  class=cdmcmd > Q X</div></div></div><div  class=ft >by ^mwHmr 16 APR 2023 11:32 PM</div><h3> 16APR2023 23:32   by ^hgh</h3>
</body>
</html>
