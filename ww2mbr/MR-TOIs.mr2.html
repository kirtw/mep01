<!DOCTYPE html>
<html lang='en'>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>
^TOIs
</title>
<style> 
.hd  {font-size: 2em;}
body  {font-size:100%;}
.cdline  {font-family: "Courier New", monospace;   font-size: 1em;}
.cdline  {display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; }
.cdrinum  {flex: 1;}
.cdlabel  {flex: 5;}
.cdmcmd  {flex: 94;}
.cdline  {white-space:pre-wrap; }
.cdmcmd  {text-indent:5px white-space:pre-wrap;}
.cdline  {background-color:gray}
.cdrinum  {background-color:gold; width:100px ; margin-right:5px}
.cdlabel  {background-color:lightblue}
.cdmcmd  {background-color:lightpink}
a  {margin:5px 0px 5px 0px;}
.brcln  {display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; }
a  {flex: 1;}
.blink  {flex: 1;}
.brcln  {white-space:pre-wrap; flex-wrap: wrap;}
.brcln  {font-size: 1.4em; font-family: "Courier New", monospace; }
.blink  {margin-left: 10px;margin-right: 10px;text-decoration: none;}
.blink  {padding-left: 5px; padding-right: 20px;border: black solid 1px;}
.blink  {background-color: lightpink;}
.cursor  {background-color:lightyellow;}
</style>
</head>
<body>
<div  class=hd >MRoutine Page ^TOIs</div><a href=aa-TOC-All.zz2.html >TOC</a><div  class=brcln ><a href=aa-TOC-All.zz2.html >TOC</a><div  class=blink ><a href=RD-rTOI7.rd2.html >rTOI7/</a></div><div  class=blink ><a href=MR-TOIs.mr2.html >^TOIs</a></div><div  class=blink ><a href=./ >ww2m/*</a></div><div  class=blink ><a href=CB-TOIs.cb2.html >^TOIs</a></div><div  class=blink ><a href=CB-TOIs-RDF.cb2.html >RDF</a></div><div  class=blink ><a href=CB-TOIs-ERD.cb2.html >ERD</a></div><div  class=blink ><a href=CB-TOIs-ERO.cb2.html >ERO</a></div><div  class=blink ><a href=CB-TOIs-X13.cb2.html >X13</a></div><div  class=blink ><a href=CB-TOIs-X9.cb2.html >X9</a></div><div  class=blink ><a href=CB-TOIs-OFW.cb2.html >OFW</a></div><div  class=blink ><a href=CB-TOIs-EWO.cb2.html >EWO</a></div><div  class=blink ><a href=CB-TOIs-EWW.cb2.html >EWW</a></div><div  class=blink ><a href=CB-TOIs-CF.cb2.html >CF</a></div><div  class=blink ><a href=CB-TOIs-CFW.cb2.html >CFW</a></div><div  class=blink ><a href=CB-TOIs-NFL.cb2.html >NFL</a></div><div  class=blink ><a href=CB-TOIs-SFL.cb2.html >SFL</a></div><div  class=blink ><a href=CB-TOIs-zqs.cb2.html >zqs</a></div><div  class=blink ><a href=CB-TOIs-GFL.cb2.html >GFL</a></div><div  class=blink ><a href=CB-TOIs-errFL.cb2.html >errFL</a></div><div  class=blink ><a href=CB-TOIs-DSP.cb2.html >DSP</a></div><div  class=blink ><a href=CB-TOIs-TSP.cb2.html >TSP</a></div><div  class=blink ><a href=CB-TOIs-LTDSPtb.cb2.html >LTDSPtb</a></div><div  class=blink ><a href=CB-TOIs-LC.cb2.html >LC</a></div><div  class=blink ><a href=CB-TOIs-UC.cb2.html >UC</a></div><div  class=blink ><a href=CB-TOIs-UC1.cb2.html >UC1</a></div><div  class=blink ><a href=CB-TOIs-can.cb2.html >can</a></div><div  class=blink ><a href=CB-TOIs-ER.cb2.html >ER</a></div></div><div  class=mcode ><div  class=cdline ><div  class=cdrinum >..1c</div><div  class=cdmcmd >TOIs ;CKW/ESC  i27Jan15  ; 20181005-99 ; Std S/R </div></div><div  class=cdline ><div  class=cdrinum >..2c</div><div  class=cdmcmd >  ; in gmsa/  rTOI7/   cp ^dvs 23sep19  to remove dependency of TOI</div></div><div  class=cdline ><div  class=cdrinum >..3c</div><div  class=cdmcmd >;</div></div><div  class=cdline ><div  class=cdrinum >..4c</div><div  class=cdmcmd >;RefBy:  Many to ^dv still, </div></div><div  class=cdline ><div  class=cdrinum >..5c</div><div  class=cdmcmd >  ;  No special mods <a href=CB-KGD-init.cb2.html >init</a> 23sep19</div></div><div  class=cdline ><div  class=cdrinum >..6c</div><div  class=cdmcmd >  ;</div></div><div  class=cdline ><div  class=cdrinum >..7c</div><div  class=cdmcmd >  ; Read File to Array Call RF by Ref (devr)  or ^kas(devr) -&gt; RF()</div></div><div  class=cdline ><div  class=cdrinum >..8c</div><div  class=cdmcmd >;RefBy: ^fr4TI1      mod $$ <a href=CB-dzroz-Err.cb2.html >Err</a> result  23sep19</div></div><div  class=cdline ><div  class=cdrinum >..9c</div><div  class=cdmcmd >;*$$  </div></div><div  class=cdline ><div  class=cdrinum >.10c</div><div  class=cdmcmd ><a href=CB-TOIs-RDF.cb2.html >RDF</a>(devr)   NEW ri,X   ; : RF()</div></div><div  class=cdline ><div  class=cdrinum >.11c</div><div  class=cdmcmd >  I $D(RF)  D b^dv("RF() is not empty. I will Kill <a href=CB-KGD-it.cb2.html >it</a>:","devr")  KILL RF </div></div><div  class=cdline ><div  class=cdrinum >.12c</div><div  class=cdmcmd >  S RF=0,devrU0=$I</div></div><div  class=cdline ><div  class=cdrinum >.13c</div><div  class=cdmcmd >  CLOSE devr ;debug</div></div><div  class=cdline ><div  class=cdrinum >.14c</div><div  class=cdmcmd >  OPEN devr:(readonly:exception="G ERO") USE devr:exception="G ERD"</div></div><div  class=cdline ><div  class=cdrinum >.15c</div><div  class=cdmcmd >  F ri=1:1 USE devr R X USE 0  DO:X[$C(13) <a href=CB-TOIs-X13.cb2.html >X13</a>  D:X[$C(9) <a href=CB-TOIs-X9.cb2.html >X9</a> S RF(ri)=X,RF=ri</div></div><div  class=cdline ><div  class=cdrinum >.16c</div><div  class=cdmcmd >  CLOSE devr U $P</div></div><div  class=cdline ><div  class=cdrinum >.17c</div><div  class=cdmcmd >  I devrU0="" Q ""</div></div><div  class=cdline ><div  class=cdrinum >.18c</div><div  class=cdmcmd >  USE devrU0</div></div><div  class=cdline ><div  class=cdrinum >.19c</div><div  class=cdmcmd >  Q ""</div></div><div  class=cdline ><div  class=cdrinum >.20c</div><div  class=cdmcmd ><a href=CB-TOIs-ERD.cb2.html >ERD</a>  CLOSE devr I $G(devrU0)'="" USE devrU0 KILL devrU0</div></div><div  class=cdline ><div  class=cdrinum >.21c</div><div  class=cdmcmd >  E  USE 0</div></div><div  class=cdline ><div  class=cdrinum >.22c</div><div  class=cdmcmd >  Q ""</div></div><div  class=cdline ><div  class=cdrinum >.23c</div><div  class=cdmcmd ><a href=CB-TOIs-ERO.cb2.html >ERO</a>  W !!,"Error opening ",devr,! d b^dv("Open to Read","devr") </div></div><div  class=cdline ><div  class=cdrinum >.24c</div><div  class=cdmcmd >  Q "Err Open"</div></div><div  class=cdline ><div  class=cdrinum >.25c</div><div  class=cdmcmd >;*  </div></div><div  class=cdline ><div  class=cdrinum >.26c</div><div  class=cdmcmd ><a href=CB-TOIs-X13.cb2.html >X13</a> S X=$<a href=CB-dzIzro-TR.cb2.html >TR</a>(X,$C(13)_$C(10),"") Q</div></div><div  class=cdline ><div  class=cdrinum >.27c</div><div  class=cdmcmd ><a href=CB-TOIs-X9.cb2.html >X9</a> S X=$<a href=CB-dzIzro-TR.cb2.html >TR</a>(X,$C(9)," ") Q</div></div><div  class=cdline ><div  class=cdrinum >.28c</div><div  class=cdmcmd >  ;*  Full FilePath   or simple name -&gt; gtm <a href=CB-KGD-start.cb2.html >start</a>, ie p/   eg. km7r/ KA1/ p/</div></div><div  class=cdline ><div  class=cdrinum >.29c</div><div  class=cdmcmd >  ;* Chg to $$<a href=CB-dzWZuf-OFW.cb2.html >OFW</a>  ret null ok, 1 Open <a href=CB-dzroz-Err.cb2.html >Err</a>, 2 Write <a href=CB-dv2-err.cb2.html >err</a>  kw 20feb18 (Lost my head)</div></div><div  class=cdline ><div  class=cdrinum >.30c</div><div  class=cdmcmd ><a href=CB-dzWZuf-OFW.cb2.html >OFW</a>(<a href=CB-devIO-devw.cb2.html >devw</a>)  I $G(<a href=CB-devIO-devw.cb2.html >devw</a>)="" D b^dv("devw undef","devw,Fil,Fol,FBase")  Q</div></div><div  class=cdline ><div  class=cdrinum >.31c</div><div  class=cdmcmd >    CLOSE <a href=CB-devIO-devw.cb2.html >devw</a>  ; debug</div></div><div  class=cdline ><div  class=cdrinum >.32c</div><div  class=cdmcmd >  OPEN <a href=CB-devIO-devw.cb2.html >devw</a>:(newversion:exception="G EWO")</div></div><div  class=cdline ><div  class=cdrinum >.33c</div><div  class=cdmcmd >  USE <a href=CB-devIO-devw.cb2.html >devw</a>:(exception="D EWW^"_$T(+0))</div></div><div  class=cdline ><div  class=cdrinum >.34c</div><div  class=cdmcmd >  Q:$Q "" Q  ;Hopefully compatible if no error !</div></div><div  class=cdline ><div  class=cdrinum >.35c</div><div  class=cdmcmd >  ;*</div></div><div  class=cdline ><div  class=cdrinum >.36c</div><div  class=cdmcmd ><a href=CB-TOIs-EWO.cb2.html >EWO</a> USE 0 D b^dv("Open File (<a href=CB-TOIs-EWO.cb2.html >EWO</a>/<a href=CB-dzWZuf-OFW.cb2.html >OFW</a>) Err","devw")  </div></div><div  class=cdline ><div  class=cdrinum >.37c</div><div  class=cdmcmd >  CLOSE <a href=CB-devIO-devw.cb2.html >devw</a> USE $P</div></div><div  class=cdline ><div  class=cdrinum >.38c</div><div  class=cdmcmd >  Q:$Q "1-<a href=CB-dzroz-Err.cb2.html >Err</a> Opening File"  ;</div></div><div  class=cdline ><div  class=cdrinum >.39c</div><div  class=cdmcmd >  Q</div></div><div  class=cdline ><div  class=cdrinum >.40c</div><div  class=cdmcmd ></div></div><div  class=cdline ><div  class=cdrinum >.41c</div><div  class=cdmcmd ><a href=CB-TOIs-EWW.cb2.html >EWW</a>   S D=$I USE $P D ^dvsch,b^dv("USE <a href=CB-dzroz-Err.cb2.html >Err</a>, writing to File","devw")</div></div><div  class=cdline ><div  class=cdrinum >.42c</div><div  class=cdmcmd >  CLOSE <a href=CB-devIO-devw.cb2.html >devw</a> USE $P</div></div><div  class=cdline ><div  class=cdrinum >.43c</div><div  class=cdmcmd >  Q:$Q "2-<a href=CB-dzroz-Err.cb2.html >Err</a> during write?"</div></div><div  class=cdline ><div  class=cdrinum >.44c</div><div  class=cdmcmd >  Q</div></div><div  class=cdline ><div  class=cdrinum >.45c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >.46c</div><div  class=cdmcmd ><a href=CB-devIO-CF.cb2.html >CF</a>(devx) USE $P CLOSE devx</div></div><div  class=cdline ><div  class=cdrinum >.47c</div><div  class=cdmcmd >         Q</div></div><div  class=cdline ><div  class=cdrinum >.48c</div><div  class=cdmcmd ><a href=CB-devIO-CFW.cb2.html >CFW</a>(<a href=CB-devIO-devw.cb2.html >devw</a>)  USE $P CLOSE <a href=CB-devIO-devw.cb2.html >devw</a></div></div><div  class=cdline ><div  class=cdrinum >.49c</div><div  class=cdmcmd >     W:$X ! W "Completed writing ",<a href=CB-devIO-devw.cb2.html >devw</a>,!</div></div><div  class=cdline ><div  class=cdrinum >.50c</div><div  class=cdmcmd >     Q </div></div><div  class=cdline ><div  class=cdrinum >.51c</div><div  class=cdmcmd >  ;</div></div><div  class=cdline ><div  class=cdrinum >.52c</div><div  class=cdmcmd >  ;* Set local fields/@vars -  @<a href=CB-kfm~1-SFL.cb2.html >SFL</a> null - Initialize</div></div><div  class=cdline ><div  class=cdrinum >.53c</div><div  class=cdmcmd ><a href=CB-kfm~1-NFL.cb2.html >NFL</a>(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,<a href=CB-dmnu-L2.cb2.html >L2</a>) I $G(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>)="" D b^dv("NFL 1st FL null","SFL,L2") Q</div></div><div  class=cdline ><div  class=cdrinum >.54c</div><div  class=cdmcmd >  NEW G,FL,%vi,%<a href=CB-GAscan-vn.cb2.html >vn</a></div></div><div  class=cdline ><div  class=cdrinum >.55c</div><div  class=cdmcmd >  I $G(<a href=CB-dmnu-L2.cb2.html >L2</a>)'="" S G=$P(<a href=CB-dmnu-L2.cb2.html >L2</a>,"_",2),FL=$P(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,"_",1)</div></div><div  class=cdline ><div  class=cdrinum >.56c</div><div  class=cdmcmd >  E  S G=$P(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,"_",2),FL=$P(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,"_") ;I G="" D b^dv("Net G null","FL,G,<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,L2")  Q</div></div><div  class=cdline ><div  class=cdrinum >.57c</div><div  class=cdmcmd >  I FL="" D b^dv("Net FL null","FL,G,<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,L2")  Q</div></div><div  class=cdline ><div  class=cdrinum >.58c</div><div  class=cdmcmd >  F %vi=1:1:$L(FL,",") S %<a href=CB-GAscan-vn.cb2.html >vn</a>=$P(FL,",",%vi) I %<a href=CB-GAscan-vn.cb2.html >vn</a>'="" S @(%<a href=CB-GAscan-vn.cb2.html >vn</a>)=""</div></div><div  class=cdline ><div  class=cdrinum >.59c</div><div  class=cdmcmd >  Q</div></div><div  class=cdline ><div  class=cdrinum >.60c</div><div  class=cdmcmd >;<a href=CB-KGD-save.cb2.html >Save</a> loc vars to MGbl via Super-FL-list</div></div><div  class=cdline ><div  class=cdrinum >.61c</div><div  class=cdmcmd ><a href=CB-kfm~1-SFL.cb2.html >SFL</a>(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,<a href=CB-dmnu-L2.cb2.html >L2</a>)  I $G(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>)="" D bug^dv  Q</div></div><div  class=cdline ><div  class=cdrinum >.62c</div><div  class=cdmcmd >  NEW:1 RSZ,A,Rc,TRc,R2c,TR2c,R,FLn,L2n,G,FL,%vi,%<a href=CB-GAscan-vn.cb2.html >vn</a>,%val,%old</div></div><div  class=cdline ><div  class=cdrinum >.63c</div><div  class=cdmcmd >  I $G(<a href=CB-dmnu-L2.cb2.html >L2</a>)="" S <a href=CB-dmnu-L2.cb2.html >L2</a>=$P(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,"_",2)  ; sic L@ bad choice vs L, L0, <a href=CB-dmnu-L2.cb2.html >L2</a></div></div><div  class=cdline ><div  class=cdrinum >.64c</div><div  class=cdmcmd >  E  S <a href=CB-dmnu-L2.cb2.html >L2</a>=$P(<a href=CB-dmnu-L2.cb2.html >L2</a>,"_",2)  ;uses arg2 for _2 MGbl Ref</div></div><div  class=cdline ><div  class=cdrinum >.65c</div><div  class=cdmcmd >  zsh :A DO  ;</div></div><div  class=cdline ><div  class=cdrinum >.66c</div><div  class=cdmcmd >    .MERGE RSZ=A("S")  ;remove first subscr "S"</div></div><div  class=cdline ><div  class=cdrinum >.67c</div><div  class=cdmcmd >    .I $G(RSZ(1))'["SFL" B</div></div><div  class=cdline ><div  class=cdrinum >.68c</div><div  class=cdmcmd >    .S Rc=$G(RSZ(2))</div></div><div  class=cdline ><div  class=cdrinum >.69c</div><div  class=cdmcmd >    .S TRc="" I Rc["^" S TRc=$T(@Rc)</div></div><div  class=cdline ><div  class=cdrinum >.70c</div><div  class=cdmcmd >    .S R2c="",TR2c="" I Rc["FL" S R2c=$G(RSZ(3))</div></div><div  class=cdline ><div  class=cdrinum >.71c</div><div  class=cdmcmd >    .  I R2c["^" S R=Rc,Rc=R2c,R2c=R,RcTR2c=TRc,TRc=$T(@Rc)</div></div><div  class=cdline ><div  class=cdrinum >.72c</div><div  class=cdmcmd >    .S FLn=$P(TRc,"FL(",2),FLn=$P(FLn,")"),L2n=$P(FLn,",",2),FLn=$P(FLn,",")</div></div><div  class=cdline ><div  class=cdrinum >.73c</div><div  class=cdmcmd >    .;D ^dv("SFL <a href=CB-dv2-log.cb2.html >Log</a>:","Rc,TRc,R2c,TR2c,FLn,L2n,<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,L2") B</div></div><div  class=cdline ><div  class=cdrinum >.74c</div><div  class=cdmcmd >    .I FLn'="",Rc'="" S RLL(FLn,Rc)=TRc  ; first crack</div></div><div  class=cdline ><div  class=cdrinum >.75c</div><div  class=cdmcmd >  S G=<a href=CB-dmnu-L2.cb2.html >L2</a>,FL=$P(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,"_") I G="" D b^dv("Bug No _2 G","G,FL,<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,L2")  Q</div></div><div  class=cdline ><div  class=cdrinum >.76c</div><div  class=cdmcmd >  I FL="" D b^dv("Bug No _1 FL","G,FL,<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,L2")  Q</div></div><div  class=cdline ><div  class=cdrinum >.77c</div><div  class=cdmcmd >  F %vi=1:1:$L(FL,",") S %<a href=CB-GAscan-vn.cb2.html >vn</a>=$P(FL,",",%vi) DO  ;</div></div><div  class=cdline ><div  class=cdrinum >.78c</div><div  class=cdmcmd >    .I %<a href=CB-GAscan-vn.cb2.html >vn</a>="" Q  ; ignore and go on...</div></div><div  class=cdline ><div  class=cdrinum >.79c</div><div  class=cdmcmd >    .S %val=$G(@%<a href=CB-GAscan-vn.cb2.html >vn</a>) I %val'="" S @G@(%<a href=CB-GAscan-vn.cb2.html >vn</a>)=%val Q</div></div><div  class=cdline ><div  class=cdrinum >.80c</div><div  class=cdmcmd >    .I $D(@%<a href=CB-GAscan-vn.cb2.html >vn</a>)#2=0 D <a href=CB-TOIs-errFL.cb2.html >errFL</a>("Undef Var "_%<a href=CB-GAscan-vn.cb2.html >vn</a>) Q  ; Var %<a href=CB-GAscan-vn.cb2.html >vn</a> is <a href=CB-dve-UNDEF.cb2.html >UNDEF</a> Usu not, NFL^dvs ?</div></div><div  class=cdline ><div  class=cdrinum >.81c</div><div  class=cdmcmd >    .S %old=$G(@G@(%<a href=CB-GAscan-vn.cb2.html >vn</a>)) I %old'="" KILL @G@(%<a href=CB-GAscan-vn.cb2.html >vn</a>)  ; Kill prior value ?</div></div><div  class=cdline ><div  class=cdrinum >.82c</div><div  class=cdmcmd ><a href=CB-TOIs-zqs.cb2.html >zqs</a>  Q  ; zb target</div></div><div  class=cdline ><div  class=cdrinum >.83c</div><div  class=cdmcmd ></div></div><div  class=cdline ><div  class=cdrinum >.84c</div><div  class=cdmcmd >;Get Loc Vars via Super-FL-List ether in $P_<a href=CB-kfm~1-SFL.cb2.html >SFL</a> (no G2), G2, or $P_2 of G2</div></div><div  class=cdline ><div  class=cdrinum >.85c</div><div  class=cdmcmd >;</div></div><div  class=cdline ><div  class=cdrinum >.86c</div><div  class=cdmcmd ><a href=CB-kfm~1-GFL.cb2.html >GFL</a>(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,G2)  I $G(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>)="" d b^db("GFL null 1st arg","SFL,G2")  Q</div></div><div  class=cdline ><div  class=cdrinum >.87c</div><div  class=cdmcmd >  NEW G,FL,vi,<a href=CB-GAscan-vn.cb2.html >vn</a></div></div><div  class=cdline ><div  class=cdrinum >.88c</div><div  class=cdmcmd >  I $G(G2)'="" S:G2["_" G2=$P(G2,"_",2)</div></div><div  class=cdline ><div  class=cdrinum >.89c</div><div  class=cdmcmd >  S G=$P(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,"_",2),FL=$P(<a href=CB-kfm~1-SFL.cb2.html >SFL</a>,"_") I G="" S G=G2 I G="" D <a href=CB-TOIs-errFL.cb2.html >errFL</a>("No MGbl Given")  Q</div></div><div  class=cdline ><div  class=cdrinum >.90c</div><div  class=cdmcmd >  I FL="" B  Q</div></div><div  class=cdline ><div  class=cdrinum >.91c</div><div  class=cdmcmd >  F vi=1:1:$L(FL,",") S <a href=CB-GAscan-vn.cb2.html >vn</a>=$P(FL,",",vi) I <a href=CB-GAscan-vn.cb2.html >vn</a>'="" S @<a href=CB-GAscan-vn.cb2.html >vn</a>=$G(@G@(<a href=CB-GAscan-vn.cb2.html >vn</a>))</div></div><div  class=cdline ><div  class=cdrinum >.92c</div><div  class=cdmcmd >  Q</div></div><div  class=cdline ><div  class=cdrinum >.93c</div><div  class=cdmcmd >;eg.  D <a href=CB-kfm~1-GFL.cb2.html >GFL</a>("lnfun",LineFL)  ; uses _2 of LineFL but list lnfun only</div></div><div  class=cdline ><div  class=cdrinum >.94c</div><div  class=cdmcmd >  ;*</div></div><div  class=cdline ><div  class=cdrinum >.95c</div><div  class=cdmcmd ><a href=CB-TOIs-errFL.cb2.html >errFL</a>(M) NEW D S D=$I USE 0 W:$X ! W "*FL Error ",M,!</div></div><div  class=cdline ><div  class=cdrinum >.96c</div><div  class=cdmcmd >    D ^dvsch D b^dv(M,"D")</div></div><div  class=cdline ><div  class=cdrinum >.97c</div><div  class=cdmcmd >    Q</div></div><div  class=cdline ><div  class=cdrinum >.98c</div><div  class=cdmcmd >  ;*  Formatting  TOI</div></div><div  class=cdline ><div  class=cdrinum >.99c</div><div  class=cdmcmd >  ;</div></div><div  class=cdline ><div  class=cdrinum >100c</div><div  class=cdmcmd > ;Replace all dbl spaces (or more) with single, and remove starting/ending</div></div><div  class=cdline ><div  class=cdrinum >101c</div><div  class=cdmcmd ><a href=CB-epW-DSP.cb2.html >DSP</a>(X) NEW i F i=0:1 Q:X'["  "  S X=$P(X,"  ")_" "_$P(X,"  ",2,9999)</div></div><div  class=cdline ><div  class=cdrinum >102c</div><div  class=cdmcmd > Q $$<a href=CB-epW-TSP.cb2.html >TSP</a>(X)</div></div><div  class=cdline ><div  class=cdrinum >103c</div><div  class=cdmcmd > ; Remove <a href=CB-KGD-start.cb2.html >start</a> and end spaces (only)</div></div><div  class=cdline ><div  class=cdrinum >104c</div><div  class=cdmcmd ><a href=CB-epW-TSP.cb2.html >TSP</a>(X) NEW i S X=$<a href=CB-dzIzro-TR.cb2.html >TR</a>(X,$C(9)_$C(10)_$C(13),"   ")  ;replace tab,lf,cr with space</div></div><div  class=cdline ><div  class=cdrinum >105c</div><div  class=cdmcmd > I $E($G(X))=" " F i=1:1:$L(X) I $E(X,i)'=" " S X=$E(X,i,999) Q</div></div><div  class=cdline ><div  class=cdrinum >106c</div><div  class=cdmcmd > I $E(X,$L(X))=" " F i=$L(X):-1:1 I $E(X,i)'=" " S X=$E(X,1,i) Q</div></div><div  class=cdline ><div  class=cdrinum >107c</div><div  class=cdmcmd > I X=" " S X=""  ; Funny case all spaces  vs end i=0 second <a href=CB-hghTemplate-line.cb2.html >line</a> ?</div></div><div  class=cdline ><div  class=cdrinum >108c</div><div  class=cdmcmd > Q X</div></div><div  class=cdline ><div  class=cdrinum >109c</div><div  class=cdmcmd >;*$$ Actually <a href=CB-epW-DSP.cb2.html >DSP</a> already does both calls <a href=CB-epW-TSP.cb2.html >TSP</a> in 2nd <a href=CB-hghTemplate-line.cb2.html >line</a> </div></div><div  class=cdline ><div  class=cdrinum >110c</div><div  class=cdmcmd ><a href=CB-dvc-LTDSPtb.cb2.html >LTDSPtb</a>(X) NEW i </div></div><div  class=cdline ><div  class=cdrinum >111c</div><div  class=cdmcmd >        S X=$<a href=CB-dzIzro-TR.cb2.html >TR</a>(X,$C(9)_$C(10)_$C(13),"   ")  ;replace tab,lf,cr with space</div></div><div  class=cdline ><div  class=cdrinum >112c</div><div  class=cdmcmd >        F i=0:1 Q:X'["  "  S X=$P(X,"  ")_" "_$P(X,"  ",2,9999)</div></div><div  class=cdline ><div  class=cdrinum >113c</div><div  class=cdmcmd > ; Remove <a href=CB-KGD-start.cb2.html >start</a> and end spaces (only)</div></div><div  class=cdline ><div  class=cdrinum >114c</div><div  class=cdmcmd > I $E($G(X))=" " F i=1:1:$L(X) I $E(X,i)'=" " S X=$E(X,i,999) Q</div></div><div  class=cdline ><div  class=cdrinum >115c</div><div  class=cdmcmd > I $E(X,$L(X))=" " F i=$L(X):-1:1 I $E(X,i)'=" " S X=$E(X,1,i) Q</div></div><div  class=cdline ><div  class=cdrinum >116c</div><div  class=cdmcmd > I X=" " S X=""  ; Funny case all spaces  vs end i=0 second <a href=CB-hghTemplate-line.cb2.html >line</a> ?</div></div><div  class=cdline ><div  class=cdrinum >117c</div><div  class=cdmcmd > Q X </div></div><div  class=cdline ><div  class=cdrinum >118c</div><div  class=cdmcmd >  ;*  Case &amp; Canonic</div></div><div  class=cdline ><div  class=cdrinum >119c</div><div  class=cdmcmd ><a href=CB-dvc-LC.cb2.html >LC</a>(X) Q $<a href=CB-dzIzro-TR.cb2.html >TR</a>(X,"ABCDEFGHIJKLMNOPQRSTUVWXYZ","abcdefghijklmnopqrstuvwxyz")</div></div><div  class=cdline ><div  class=cdrinum >120c</div><div  class=cdmcmd ><a href=CB-dvc-UC.cb2.html >UC</a>(X) Q $<a href=CB-dzIzro-TR.cb2.html >TR</a>(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")</div></div><div  class=cdline ><div  class=cdrinum >121c</div><div  class=cdmcmd ><a href=CB-dvc-UC1.cb2.html >UC1</a>(X) Q $$<a href=CB-dvc-UC.cb2.html >UC</a>($E(X))_$$<a href=CB-dvc-LC.cb2.html >LC</a>($E(X,2,9999))   ; Cap 1st, rest <a href=CB-dvc-LC.cb2.html >LC</a></div></div><div  class=cdline ><div  class=cdrinum >122c</div><div  class=cdmcmd >  ;</div></div><div  class=cdline ><div  class=cdrinum >123c</div><div  class=cdmcmd ><a href=CB-dvc-can.cb2.html >can</a>(X) Q $$<a href=CB-dvc-LC.cb2.html >LC</a>(X)</div></div><div  class=cdline ><div  class=cdrinum >124c</div><div  class=cdmcmd >  ;*</div></div><div  class=cdline ><div  class=cdrinum >125c</div><div  class=cdmcmd ><a href=CB-TOIs-ER.cb2.html >ER</a>(M) NEW d S d=$I USE 0 W:$X ! W "ER ^",$T(+0),"- ",$G(M),! USE d Q</div></div><div  class=cdline ><div  class=cdrinum >126c</div><div  class=cdmcmd > Q  ;* safety</div></div></div><div  class=ft >by ^mwHmr 07 APR 2023 10:17 PM</div><h3> 07APR2023 22:17   by ^hgh</h3>
</body>
</html>
