<!DOCTYPE html>
<html lang='en'>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>
^dmnMa
</title>
<style> 
.hd  {font-size: 2em;}
body  {font-size:100%;}
.cdline  {font-family: "Courier New", monospace;   font-size: 1em;}
.cdline  {display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; }
.cdrinum  {flex: 1;}
.cdlabel  {flex: 5;}
.cdmcmd  {flex: 94;}
.cdline  {white-space:pre-wrap; }
.cdmcmd  {text-indent:5px white-space:pre-wrap;}
.cdline  {background-color:gray}
.cdrinum  {background-color:gold; width:100px ; margin-right:5px}
.cdlabel  {background-color:lightblue}
.cdmcmd  {background-color:lightpink}
a  {margin:5px 0px 5px 0px;}
.brcln  {display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; }
a  {flex: 1;}
.blink  {flex: 1;}
.brcln  {white-space:pre-wrap; flex-wrap: wrap;}
.brcln  {font-size: 1.4em; font-family: "Courier New", monospace; }
.blink  {margin-left: 10px;margin-right: 10px;text-decoration: none;}
.blink  {padding-left: 5px; padding-right: 20px;border: black solid 1px;}
.blink  {background-color: lightpink;}
.cursor  {background-color:lightyellow;}
</style>
</head>
<body>
<div  class=hd >MRoutine Page ^dmnMa</div><a href=aa-TOC-All.zz2.html >TOC</a><div  class=brcln ><a href=aa-TOC-All.zz2.html >TOC</a><div  class=blink ><a href=RD-rmenu3.rd2.html >rmenu3/</a></div><div  class=blink ><a href=MR-dmnMa.mr2.html >^dmnMa</a></div><div  class=blink ><a href=./ >ww2m/*</a></div><div  class=blink ><a href=CB-dmnMa.cb2.html >^dmnMa</a></div><div  class=blink ><a href=CB-dmnMa-top.cb2.html >top</a></div><div  class=blink ><a href=CB-dmnMa-RMRT.cb2.html >RMRT</a></div><div  class=blink ><a href=CB-dmnMa-Topt.cb2.html >Topt</a></div><div  class=blink ><a href=CB-dmnMa-GIX.cb2.html >GIX</a></div></div><div  class=mcode ><div  class=cdline ><div  class=cdrinum >..1c</div><div  class=cdmcmd >dmnMa(mSys,MRou)  ;CKW/ESC   i20may18 gmsa/ rd2menu/  ; 20180520-55 ; Capture *Ma <a href=CB-epaMenu-Menu.cb2.html >Menu</a> ops</div></div><div  class=cdline ><div  class=cdrinum >..2c</div><div  class=cdmcmd >  ;   in   T2DM <a href=CB-devIO-dev.cb2.html >dev</a></div></div><div  class=cdline ><div  class=cdrinum >..3c</div><div  class=cdmcmd >  ; MRou = "qdMa.m"  for T2DM</div></div><div  class=cdline ><div  class=cdrinum >..4c</div><div  class=cdmcmd >  ;</div></div><div  class=cdline ><div  class=cdrinum >..5c</div><div  class=cdmcmd >  ;  Supplement to ^dmnCom  Compile</div></div><div  class=cdline ><div  class=cdrinum >..6c</div><div  class=cdmcmd >  ;   ^</div></div><div  class=cdline ><div  class=cdrinum >..7c</div><div  class=cdmcmd ><a href=CB-mwPET-top.cb2.html >top</a>  I $G(mSys)="" D BUG^dv Q</div></div><div  class=cdline ><div  class=cdrinum >..8c</div><div  class=cdmcmd >     I $G(MRou)="" D BUG^dv Q</div></div><div  class=cdline ><div  class=cdrinum >..9c</div><div  class=cdmcmd >     I $D(^MNU(mSys))=0 D b^dv("mSys not in ^MNU ?","mSys,MRou") Q</div></div><div  class=cdline ><div  class=cdrinum >.10c</div><div  class=cdmcmd >     I $T(@MRou^@MRou)="" D b^dv("MRou undef?","MRou,mSys") Q</div></div><div  class=cdline ><div  class=cdrinum >.11c</div><div  class=cdmcmd >     NEW moi,<a href=CB-dmnu-mab.cb2.html >mab</a>,mi,C2,T,<a href=CB-jfm~1-II.cb2.html >II</a>,dopab,dopde,dopLR,opFL,LB</div></div><div  class=cdline ><div  class=cdrinum >.12c</div><div  class=cdmcmd >     D IMG^dmnCom  ; opFL</div></div><div  class=cdline ><div  class=cdrinum >.13c</div><div  class=cdmcmd >; access MRou via $T for now</div></div><div  class=cdline ><div  class=cdrinum >.14c</div><div  class=cdmcmd >    ;D <a href=CB-dmnMa-GIX.cb2.html >GIX</a></div></div><div  class=cdline ><div  class=cdrinum >.15c</div><div  class=cdmcmd >    D <a href=CB-dmnMa-RMRT.cb2.html >RMRT</a>(MRou)   ; : RU(ri)   whole MRou  vs sel labels</div></div><div  class=cdline ><div  class=cdrinum >.16c</div><div  class=cdmcmd >    Q</div></div><div  class=cdline ><div  class=cdrinum >.17c</div><div  class=cdmcmd >;*</div></div><div  class=cdline ><div  class=cdrinum >.18c</div><div  class=cdmcmd >;* Read $T MRou </div></div><div  class=cdline ><div  class=cdrinum >.19c</div><div  class=cdmcmd ><a href=CB-dmnMa-RMRT.cb2.html >RMRT</a>(MRou) I $G(MRou)="" D b^dv("Bug","MRou") S MRou="qdMa",dopMnu="qdMa"</div></div><div  class=cdline ><div  class=cdrinum >.20c</div><div  class=cdmcmd >    S moi=0,<a href=CB-dmnu-mab.cb2.html >mab</a>="ma"   S ^MNU(mSys,-1,"ab",<a href=CB-dmnu-mab.cb2.html >mab</a>)=<a href=CB-dmnu-mab.cb2.html >mab</a>  ; ?What Kludge</div></div><div  class=cdline ><div  class=cdrinum >.21c</div><div  class=cdmcmd >    F <a href=CB-jfm~1-II.cb2.html >II</a>=1:1  S T=$T(@MRou+II^@MRou)  Q:T=""  D <a href=CB-dmnMa-Topt.cb2.html >Topt</a></div></div><div  class=cdline ><div  class=cdrinum >.22c</div><div  class=cdmcmd >    Q</div></div><div  class=cdline ><div  class=cdrinum >.23c</div><div  class=cdmcmd >;* T, <a href=CB-dmnu-mab.cb2.html >mab</a>, moi+,  </div></div><div  class=cdline ><div  class=cdrinum >.24c</div><div  class=cdmcmd ><a href=CB-dmnMa-Topt.cb2.html >Topt</a>   S C2=$P(T,";;",2) I C2="" Q</div></div><div  class=cdline ><div  class=cdrinum >.25c</div><div  class=cdmcmd >      D NFL^dvs(opFL)</div></div><div  class=cdline ><div  class=cdrinum >.26c</div><div  class=cdmcmd >      S T=$<a href=CB-dzIzro-TR.cb2.html >TR</a>(T,$C(9)," "),LB=$P(T," ") I LB="" Q</div></div><div  class=cdline ><div  class=cdrinum >.27c</div><div  class=cdmcmd >      S dopLR=LB_"^"_MRou</div></div><div  class=cdline ><div  class=cdrinum >.28c</div><div  class=cdmcmd >        I $G(CBx(dopLR))'="" </div></div><div  class=cdline ><div  class=cdrinum >.29c</div><div  class=cdmcmd >      S dopab=LB</div></div><div  class=cdline ><div  class=cdrinum >.30c</div><div  class=cdmcmd >      S dopde=C2</div></div><div  class=cdline ><div  class=cdrinum >.31c</div><div  class=cdmcmd >      S moi=moi+1</div></div><div  class=cdline ><div  class=cdrinum >.32c</div><div  class=cdmcmd >      D SFL^dvs(opFL)  ; mSys, <a href=CB-dmnu-mab.cb2.html >mab</a>, moi : @opFL  ^MNU(<a href=CB-dmnu-mab.cb2.html >mab</a>,moi)</div></div><div  class=cdline ><div  class=cdrinum >.33c</div><div  class=cdmcmd >      I dopab'="",$D(^MNU(mSys,-1,"ab",dopab))=0 DO  ;</div></div><div  class=cdline ><div  class=cdrinum >.34c</div><div  class=cdmcmd >        .S ^MNU(mSys,-1,"ab",dopab)=<a href=CB-dmnu-mab.cb2.html >mab</a>_"."_moi</div></div><div  class=cdline ><div  class=cdrinum >.35c</div><div  class=cdmcmd >      U $P W:$X ! W moi,") ",<a href=CB-dmnu-mab.cb2.html >mab</a>,"  ",?10,dopab,"  ",?20,dopde,!</div></div><div  class=cdline ><div  class=cdrinum >.36c</div><div  class=cdmcmd >    Q</div></div><div  class=cdline ><div  class=cdrinum >.37c</div><div  class=cdmcmd >;* Scan ^MNU and compose IX="cb"   in ^CBx</div></div><div  class=cdline ><div  class=cdrinum >.38c</div><div  class=cdmcmd ><a href=CB-dmnMa-GIX.cb2.html >GIX</a>   KILL ^CBx</div></div><div  class=cdline ><div  class=cdrinum >.39c</div><div  class=cdmcmd >      S <a href=CB-dmnu-mab.cb2.html >mab</a>="" F mi=0:1 S <a href=CB-dmnu-mab.cb2.html >mab</a>=$O(^MNU(mSys,<a href=CB-dmnu-mab.cb2.html >mab</a>)) Q:<a href=CB-dmnu-mab.cb2.html >mab</a>=""  DO  </div></div><div  class=cdline ><div  class=cdrinum >.40c</div><div  class=cdmcmd >        .F moi=1:1 S dopLR=$G(^MNU(mSys,<a href=CB-dmnu-mab.cb2.html >mab</a>,moi)) Q:dopLR=""  DO  ;</div></div><div  class=cdline ><div  class=cdrinum >.41c</div><div  class=cdmcmd >           ..I dopLR="" Q</div></div><div  class=cdline ><div  class=cdrinum >.42c</div><div  class=cdmcmd >           ..I dopLR["^" S GBx(mSys,"cb",dopLR)=<a href=CB-dmnu-mab.cb2.html >mab</a>_"."_moi</div></div><div  class=cdline ><div  class=cdrinum >.43c</div><div  class=cdmcmd >        .Q</div></div><div  class=cdline ><div  class=cdrinum >.44c</div><div  class=cdmcmd >      Q</div></div><div  class=cdline ><div  class=cdrinum >.45c</div><div  class=cdmcmd >      </div></div><div  class=cdline ><div  class=cdrinum >.46c</div><div  class=cdmcmd >                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 </div></div></div><div  class=ft >by ^mwHmr 16 APR 2023 11:32 PM</div><h3> 16APR2023 23:32   by ^hgh</h3>
</body>
</html>
